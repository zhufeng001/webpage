<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>rpm: Header API.</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>Header API.</h1><table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Files</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">file &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="header_8h.html">header.h</a></td></tr>

<p><tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p>An rpm header carries all information about a package. </p>
<br/></td></tr>
</p>
<tr><td class="memItemLeft" align="right" valign="top">file &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpmlib_8h.html">rpmlib.h</a></td></tr>

<p><tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p>In Memoriam: Steve Taylor &lt;<a href="mailto:staylor@redhat.com">staylor@redhat.com</a>&gt; was here, now he's not. </p>
<br/></td></tr>
</p>
<tr><td colspan="2"><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef enum <a class="el" href="group__header.html#gae10b109d8e56faba07f4743b797b893a">headerGetFlags_e</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__header.html#gad373eb6947a7d73d3b1b1994485d5ed2">headerGetFlags</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Modifier flags for <a class="el" href="group__header.html#gac98158ce673dd0b7bfe61a8ee5bb6b8e" title="Retrieve tag value.">headerGet()</a> operation.  <a href="#gad373eb6947a7d73d3b1b1994485d5ed2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef enum <a class="el" href="group__header.html#ga24690e18a34d56e178edf27b5cc97fed">rpmTagType_e</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__header.html#gae3bf8d35e51bc1fbaa1a2a5acdceb79e">rpmTagType</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The basic types of data in tags from headers.  <a href="#gae3bf8d35e51bc1fbaa1a2a5acdceb79e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef enum <a class="el" href="group__header.html#ga8252a017b6a137ec3e54d0c2ad8f332f">rpmSubTagType_e</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__header.html#ga8476a91f8c0ba36b3255ff0b63768d8b">rpmSubTagType</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">New rpm data types under consideration/development.  <a href="#ga8476a91f8c0ba36b3255ff0b63768d8b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef enum <a class="el" href="group__header.html#ga06b1ee1d4b501cad4d8aebe07cfc8eb3">rpmTagReturnType_e</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__header.html#gabbb338c52d79c085d0f0e39c9e1026e6">rpmTagReturnType</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">* Identify how to return the header data type.  <a href="#gabbb338c52d79c085d0f0e39c9e1026e6"></a><br/></td></tr>
<tr><td colspan="2"><h2>Enumerations</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__header.html#ga2572591faf5430cdf28aaf9f70d74fa4">hMagic</a> { <a class="el" href="group__header.html#gga2572591faf5430cdf28aaf9f70d74fa4a4df0aa5955f506525b5a5537605e3092">HEADER_MAGIC_NO</a> =  0, 
<a class="el" href="group__header.html#gga2572591faf5430cdf28aaf9f70d74fa4aebb6d0af72ae9d4c607e81796dafa472">HEADER_MAGIC_YES</a> =  1
 }</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p>Include calculation for 8 bytes of (magic, 0)? </p>
 <a href="group__header.html#ga2572591faf5430cdf28aaf9f70d74fa4">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__header.html#gae10b109d8e56faba07f4743b797b893a">headerGetFlags_e</a> { <br/>
&nbsp;&nbsp;<a class="el" href="group__header.html#ggae10b109d8e56faba07f4743b797b893aa10a9f914f9b8f462ad846dc27cab28c6">HEADERGET_DEFAULT</a> =  0, 
<a class="el" href="group__header.html#ggae10b109d8e56faba07f4743b797b893aa9ff0aaa4dbaf60dc852c5af8ca6487f2">HEADERGET_MINMEM</a> =  (1 &lt;&lt; 0), 
<a class="el" href="group__header.html#ggae10b109d8e56faba07f4743b797b893aa38f8e76cedf30634d4d7621be70c5847">HEADERGET_EXT</a> =  (1 &lt;&lt; 1), 
<a class="el" href="group__header.html#ggae10b109d8e56faba07f4743b797b893aa9323938f8824a1257d24adec115996a4">HEADERGET_RAW</a> =  (1 &lt;&lt; 2), 
<br/>
&nbsp;&nbsp;<a class="el" href="group__header.html#ggae10b109d8e56faba07f4743b797b893aa8fb050c50c60c1b2a931a56e0beb2b8a">HEADERGET_ALLOC</a> =  (1 &lt;&lt; 3), 
<a class="el" href="group__header.html#ggae10b109d8e56faba07f4743b797b893aa3dc9e71e8a1777e9a68adde6569aef96">HEADERGET_ARGV</a> =  (1 &lt;&lt; 4)
<br/>
 }</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p>Modifier flags for <a class="el" href="group__header.html#gac98158ce673dd0b7bfe61a8ee5bb6b8e" title="Retrieve tag value.">headerGet()</a> operation. </p>
 <a href="group__header.html#gae10b109d8e56faba07f4743b797b893a">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__header.html#ga24690e18a34d56e178edf27b5cc97fed">rpmTagType_e</a> </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p>The basic types of data in tags from headers. </p>
 <a href="group__header.html#ga24690e18a34d56e178edf27b5cc97fed">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__header.html#ga8252a017b6a137ec3e54d0c2ad8f332f">rpmSubTagType_e</a> { <a class="el" href="group__header.html#gga8252a017b6a137ec3e54d0c2ad8f332faf66af42afcdb5ed4a78d3771e01ad84d">RPM_REGION_TYPE</a> =  -10, 
<a class="el" href="group__header.html#gga8252a017b6a137ec3e54d0c2ad8f332fadef6f13d3e7cfb28d2835380fe54e625">RPM_BIN_ARRAY_TYPE</a> =  -11, 
<a class="el" href="group__header.html#gga8252a017b6a137ec3e54d0c2ad8f332fadc7dd89d43dc44dbd438c5a2cafbe476">RPM_XREF_TYPE</a> =  -12
 }</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p>New rpm data types under consideration/development. </p>
 <a href="group__header.html#ga8252a017b6a137ec3e54d0c2ad8f332f">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__header.html#ga06b1ee1d4b501cad4d8aebe07cfc8eb3">rpmTagReturnType_e</a> { <br/>
&nbsp;&nbsp;<a class="el" href="group__header.html#gga06b1ee1d4b501cad4d8aebe07cfc8eb3a85833a03c9ca291cb4079436f1d0e691">RPM_ANY_RETURN_TYPE</a> =  0, 
<a class="el" href="group__header.html#gga06b1ee1d4b501cad4d8aebe07cfc8eb3ab4a1533449cae4783b75dc4f63fea4c3">RPM_SCALAR_RETURN_TYPE</a> =  0x00010000, 
<a class="el" href="group__header.html#gga06b1ee1d4b501cad4d8aebe07cfc8eb3a52b4a26c0e82c4c1481fdc66c1bb3dce">RPM_ARRAY_RETURN_TYPE</a> =  0x00020000, 
<a class="el" href="group__header.html#gga06b1ee1d4b501cad4d8aebe07cfc8eb3a8aad2b81c577a54f0451fe6562d4107c">RPM_MAPPING_RETURN_TYPE</a> =  0x00040000, 
<br/>
&nbsp;&nbsp;<a class="el" href="group__header.html#gga06b1ee1d4b501cad4d8aebe07cfc8eb3a1acf76a1e638f855f013084e294af9be">RPM_MASK_RETURN_TYPE</a> =  0xffff0000
<br/>
 }</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p>* Identify how to return the header data type. </p>
 <a href="group__header.html#ga06b1ee1d4b501cad4d8aebe07cfc8eb3">More...</a><br/></td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__header.html#gaba1932e7962b6c650006c3083530b042">headerNew</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create new (empty) header instance.  <a href="#gaba1932e7962b6c650006c3083530b042"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__header.html#ga15e58ea36a4ad540759989db341797ce">headerFree</a> (<a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a> h)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Dereference a header instance.  <a href="#ga15e58ea36a4ad540759989db341797ce"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__header.html#gab8e8158584de00bad7bbf91cd7b43e72">headerLink</a> (<a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a> h)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Reference a header instance.  <a href="#gab8e8158584de00bad7bbf91cd7b43e72"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__header.html#ga67a6b2868df3569f6657ccf763e42515">headerUnlink</a> (<a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a> h)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Dereference a header instance.  <a href="#ga67a6b2868df3569f6657ccf763e42515"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__header.html#gab68de4a4d57795669a97ba8a101f3e51">headerSort</a> (<a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a> h)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sort tags in header.  <a href="#gab68de4a4d57795669a97ba8a101f3e51"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__header.html#ga9b3c8381f8d7e1f0818c40fc32287f02">headerUnsort</a> (<a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a> h)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Restore tags in header to original ordering.  <a href="#ga9b3c8381f8d7e1f0818c40fc32287f02"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__header.html#ga9fa358310da38ad3c2cd5de38229b902">headerSizeof</a> (<a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a> h, enum <a class="el" href="group__header.html#ga2572591faf5430cdf28aaf9f70d74fa4">hMagic</a> magicp)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return size of on-disk header representation in bytes.  <a href="#ga9fa358310da38ad3c2cd5de38229b902"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__header.html#gaf77927dd7aafa1bb3d1d878890387f0f">headerVerifyInfo</a> (int il, int dl, const void *pev, void *iv, int negate)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Perform simple sanity and range checks on header tag(s).  <a href="#gaf77927dd7aafa1bb3d1d878890387f0f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__header.html#ga33ea43d033ea680a8c5357ed9cec7283">headerUnload</a> (<a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a> h)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Convert header to on-disk representation.  <a href="#ga33ea43d033ea680a8c5357ed9cec7283"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__header.html#ga74d1eecf9139f1d231c4e26399aedfd3">headerReload</a> (<a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a> h, <a class="el" href="group__rpmtag.html#gad0da081a8aa5491edae4ad732d03c2f3">rpmTag</a> tag)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Convert header to on-disk representation, and then reload.  <a href="#ga74d1eecf9139f1d231c4e26399aedfd3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__header.html#gac6ec9b02a38e9ad6bc9bd10c73eb2960">headerCopy</a> (<a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a> h)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Duplicate a header.  <a href="#gac6ec9b02a38e9ad6bc9bd10c73eb2960"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__header.html#gaa44e906299e81eda325dbef9fd991c9c">headerLoad</a> (void *uh)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Convert header to in-memory representation.  <a href="#gaa44e906299e81eda325dbef9fd991c9c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__header.html#gaa4af55b82df3f36dd7257cd3a1b2b7d9">headerCopyLoad</a> (const void *uh)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Make a copy and convert header to in-memory representation.  <a href="#gaa4af55b82df3f36dd7257cd3a1b2b7d9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__header.html#ga0cbab66e6c83b62d64b6c52df75279ca">headerRead</a> (<a class="el" href="group__rpmtypes.html#ga078f4187c683508f3147e94397bab8d5">FD_t</a> fd, enum <a class="el" href="group__header.html#ga2572591faf5430cdf28aaf9f70d74fa4">hMagic</a> magicp)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read (and load) header from file handle.  <a href="#ga0cbab66e6c83b62d64b6c52df75279ca"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__header.html#gad22147bbdc44fefcc8a6e54f6f42c69f">headerWrite</a> (<a class="el" href="group__rpmtypes.html#ga078f4187c683508f3147e94397bab8d5">FD_t</a> fd, <a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a> h, enum <a class="el" href="group__header.html#ga2572591faf5430cdf28aaf9f70d74fa4">hMagic</a> magicp)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Write (with unload) header to file handle.  <a href="#gad22147bbdc44fefcc8a6e54f6f42c69f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__header.html#gaa2c9e0264839533d7b7061a347b82f9f">headerIsEntry</a> (<a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a> h, <a class="el" href="group__rpmtag.html#gad0da081a8aa5491edae4ad732d03c2f3">rpmTag</a> tag)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Check if tag is in header.  <a href="#gaa2c9e0264839533d7b7061a347b82f9f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__header.html#gac98158ce673dd0b7bfe61a8ee5bb6b8e">headerGet</a> (<a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a> h, <a class="el" href="group__rpmtag.html#gad0da081a8aa5491edae4ad732d03c2f3">rpmTag</a> tag, <a class="el" href="structrpmtd__s.html">rpmtd</a> td, <a class="el" href="group__header.html#gad373eb6947a7d73d3b1b1994485d5ed2">headerGetFlags</a> flags)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Retrieve tag value.  <a href="#gac98158ce673dd0b7bfe61a8ee5bb6b8e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__header.html#ga2275b05ca8482917028356781f9a125d">headerPut</a> (<a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a> h, <a class="el" href="structrpmtd__s.html">rpmtd</a> td, <a class="el" href="header_8h.html#a78a25d9f4b5c1d30de1e3b34432846f0">headerPutFlags</a> flags)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Add or append tag to header.  <a href="#ga2275b05ca8482917028356781f9a125d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__header.html#ga15495e6d814dcc087960f094ee747105">headerAddI18NString</a> (<a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a> h, <a class="el" href="group__rpmtag.html#gad0da081a8aa5491edae4ad732d03c2f3">rpmTag</a> tag, const char *string, const char *lang)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Add locale specific tag to header.  <a href="#ga15495e6d814dcc087960f094ee747105"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__header.html#ga1da44d2ff4356452098ecab7214ec66d">headerMod</a> (<a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a> h, <a class="el" href="structrpmtd__s.html">rpmtd</a> td)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Modify tag in header.  <a href="#ga1da44d2ff4356452098ecab7214ec66d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__header.html#ga8abc680555eb4c8d5ba014740c63dc33">headerDel</a> (<a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a> h, <a class="el" href="group__rpmtag.html#gad0da081a8aa5491edae4ad732d03c2f3">rpmTag</a> tag)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Delete tag in header.  <a href="#ga8abc680555eb4c8d5ba014740c63dc33"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__header.html#gaca1e14f3cde6bfbc931582dfb52f5307">headerFormat</a> (<a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a> h, const char *fmt, <a class="el" href="rpmtypes_8h.html#ab20ae37fc60551c3abf7f9b25fcd3bc2">errmsg_t</a> *errmsg)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return formatted output string from header tags.  <a href="#gaca1e14f3cde6bfbc931582dfb52f5307"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__header.html#gae1aab6baf1d3114190a78b534c959130">headerCopyTags</a> (<a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a> headerFrom, <a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a> headerTo, const <a class="el" href="group__rpmtag.html#gad0da081a8aa5491edae4ad732d03c2f3">rpmTag</a> *tagstocopy)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Duplicate tag values from one header into another.  <a href="#gae1aab6baf1d3114190a78b534c959130"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__rpmtypes.html#ga04fc66186d2c57c59085895c232091ab">HeaderIterator</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__header.html#ga98877806b624ced2fac5cd0bb50239a4">headerFreeIterator</a> (<a class="el" href="group__rpmtypes.html#ga04fc66186d2c57c59085895c232091ab">HeaderIterator</a> hi)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Destroy header tag iterator.  <a href="#ga98877806b624ced2fac5cd0bb50239a4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__rpmtypes.html#ga04fc66186d2c57c59085895c232091ab">HeaderIterator</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__header.html#gae549f696a160547449c7fbd3606026b3">headerInitIterator</a> (<a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a> h)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create header tag iterator.  <a href="#gae549f696a160547449c7fbd3606026b3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__header.html#ga9c4cc53c5f7e88665752bbceee2e5756">headerNext</a> (<a class="el" href="group__rpmtypes.html#ga04fc66186d2c57c59085895c232091ab">HeaderIterator</a> hi, <a class="el" href="structrpmtd__s.html">rpmtd</a> td)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return next tag contents from header.  <a href="#ga9c4cc53c5f7e88665752bbceee2e5756"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__rpmtag.html#gad0da081a8aa5491edae4ad732d03c2f3">rpmTag</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__header.html#ga2cef14fa59c93efe4f3359a245c2a772">headerNextTag</a> (<a class="el" href="group__rpmtypes.html#ga04fc66186d2c57c59085895c232091ab">HeaderIterator</a> hi)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return next tag number from header.  <a href="#ga2cef14fa59c93efe4f3359a245c2a772"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__header.html#ga50514667473d848fc998df421ca3ce12">headerNVR</a> (<a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a> h, const char **np, const char **vp, const char **rp)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return name, version, release strings from header.  <a href="#ga50514667473d848fc998df421ca3ce12"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__header.html#ga86e3f5171850a18858c237f2b3dbd797">headerNEVRA</a> (<a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a> h, const char **np, uint32_t **ep, const char **vp, const char **rp, const char **ap)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return name, epoch, version, release, arch strings from header.  <a href="#ga86e3f5171850a18858c237f2b3dbd797"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__header.html#ga1147113c1a5824ddeece795c2c9796b5">headerGetNEVR</a> (<a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a> h, const char **np)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return (malloc'd) header name-version-release string.  <a href="#ga1147113c1a5824ddeece795c2c9796b5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__header.html#ga2f7ee03b911777a50b590c9cb51c982e">headerGetNEVRA</a> (<a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a> h, const char **np)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return (malloc'd) header name-version-release.arch string.  <a href="#ga2f7ee03b911777a50b590c9cb51c982e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__header.html#ga7ba52984c0bf7d211e155653fadb08a3">headerGetAsString</a> (<a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a> h, <a class="el" href="group__rpmtag.html#gad0da081a8aa5491edae4ad732d03c2f3">rpmTag</a> tag)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return any non-array tag from header, converted to string.  <a href="#ga7ba52984c0bf7d211e155653fadb08a3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__header.html#gaa463e9ebbaf81004c62b864b42f97dab">headerGetString</a> (<a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a> h, <a class="el" href="group__rpmtag.html#gad0da081a8aa5491edae4ad732d03c2f3">rpmTag</a> tag)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return a simple string tag from header.  <a href="#gaa463e9ebbaf81004c62b864b42f97dab"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__rpmtypes.html#ga5320e2d8dbd395706d114a4d8fc93505">rpm_color_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__header.html#ga9a7ff128c2e2265a6f690b831c140869">headerGetColor</a> (<a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a> h)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return header color.  <a href="#ga9a7ff128c2e2265a6f690b831c140869"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__header.html#ga3e665b416a45423189eefd54d32e8826">headerIsSource</a> (<a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a> h)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Check if header is a source or binary package header.  <a href="#ga3e665b416a45423189eefd54d32e8826"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__header.html#gab2ead5204f382040cd30cd4be1688990">headerGetInstance</a> (<a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a> h)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return header instance, ie is the header from rpmdb.  <a href="#gab2ead5204f382040cd30cd4be1688990"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__header.html#gadb51fc439f8aec6155f5c38732670261">headerConvert</a> (<a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a> h, <a class="el" href="header_8h.html#ab81daf21bb30b7973d62048d77f08c04">headerConvOps</a> op)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Convert header to/from (legacy) data presentation.  <a href="#gadb51fc439f8aec6155f5c38732670261"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__header.html#ga95e02e0e6be7de34f141fe8e82515ae8">headerMergeLegacySigs</a> (<a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a> h, const <a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a> sigh)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Translate and merge legacy signature tags into header.  <a href="#ga95e02e0e6be7de34f141fe8e82515ae8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__header.html#ga0240750b808fc759dee76f3440194570">headerRegenSigHeader</a> (const <a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a> h, int noArchiveSize)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Regenerate signature header.  <a href="#ga0240750b808fc759dee76f3440194570"></a><br/></td></tr>
<tr><td colspan="2"><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const unsigned char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__header.html#ga6483a32ca9785bcef5fba196608ac0fb">rpm_header_magic</a> [8]</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Header magic value.  <a href="#ga6483a32ca9785bcef5fba196608ac0fb"></a><br/></td></tr>
<tr><td colspan="2"><p><a class="anchor" id="amgrpd41d8cd98f00b204e9800998ecf8427e"></a> </p>
<br/><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__header.html#ga31d76c8191f000b6fae9478c9a563942">headerPutString</a> (<a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a> h, <a class="el" href="group__rpmtag.html#gad0da081a8aa5491edae4ad732d03c2f3">rpmTag</a> tag, const char *val)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Type-safe methods for inserting tag data to header.  <a href="#ga31d76c8191f000b6fae9478c9a563942"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__header.html#ga7100f4f080dffbf60258792814f77536">headerPutStringArray</a> (<a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a> h, <a class="el" href="group__rpmtag.html#gad0da081a8aa5491edae4ad732d03c2f3">rpmTag</a> tag, const char **val, <a class="el" href="group__rpmtypes.html#ga12927399545450cd58cca8abdc44e768">rpm_count_t</a> size)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__header.html#ga3c227df7c35ae7fd6bc07e48087110bf">headerPutBin</a> (<a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a> h, <a class="el" href="group__rpmtag.html#gad0da081a8aa5491edae4ad732d03c2f3">rpmTag</a> tag, uint8_t *val, <a class="el" href="group__rpmtypes.html#ga12927399545450cd58cca8abdc44e768">rpm_count_t</a> size)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__header.html#ga9618a57fe517a9b4ede1282eae81babd">headerPutChar</a> (<a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a> h, <a class="el" href="group__rpmtag.html#gad0da081a8aa5491edae4ad732d03c2f3">rpmTag</a> tag, char *val, <a class="el" href="group__rpmtypes.html#ga12927399545450cd58cca8abdc44e768">rpm_count_t</a> size)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__header.html#gabb2c4c1e410476fb52f78ce4c57e7016">headerPutUint8</a> (<a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a> h, <a class="el" href="group__rpmtag.html#gad0da081a8aa5491edae4ad732d03c2f3">rpmTag</a> tag, uint8_t *val, <a class="el" href="group__rpmtypes.html#ga12927399545450cd58cca8abdc44e768">rpm_count_t</a> size)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__header.html#ga1e4321104521ac402d157a5c583c0edf">headerPutUint16</a> (<a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a> h, <a class="el" href="group__rpmtag.html#gad0da081a8aa5491edae4ad732d03c2f3">rpmTag</a> tag, uint16_t *val, <a class="el" href="group__rpmtypes.html#ga12927399545450cd58cca8abdc44e768">rpm_count_t</a> size)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__header.html#gaefd2fe27dd8b33c1c489efc14912b259">headerPutUint32</a> (<a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a> h, <a class="el" href="group__rpmtag.html#gad0da081a8aa5491edae4ad732d03c2f3">rpmTag</a> tag, uint32_t *val, <a class="el" href="group__rpmtypes.html#ga12927399545450cd58cca8abdc44e768">rpm_count_t</a> size)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__header.html#gaa6f67f1536c61c9215833e7d4f9ca6e1">headerPutUint64</a> (<a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a> h, <a class="el" href="group__rpmtag.html#gad0da081a8aa5491edae4ad732d03c2f3">rpmTag</a> tag, uint64_t *val, <a class="el" href="group__rpmtypes.html#ga12927399545450cd58cca8abdc44e768">rpm_count_t</a> size)</td></tr>
<tr><td colspan="2"><h2>RPMRC</h2></td></tr>
<tr><td colspan="2"><p><a class="anchor" id="amgrpb9cef57101fe43d89f3fa12498b98913"></a> </p>
<br/><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__rpmtypes.html#ga06da857c39457bfb6ea9049643fdb706">rpmRC</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__header.html#gab1eb7d04798d892e03ec01a8e281ba79">headerCheckPayloadFormat</a> (<a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a> h)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Check for supported payload format in header.  <a href="#gab1eb7d04798d892e03ec01a8e281ba79"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__rpmtypes.html#ga06da857c39457bfb6ea9049643fdb706">rpmRC</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__header.html#ga3e07756b155618410a1c3f8ee10d2b14">headerCheck</a> (<a class="el" href="group__rpmtypes.html#ga1a512138316a227059ca128597dbd464">rpmts</a> ts, const void *uh, size_t uc, char **msg)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Check header consistency, performing headerGetEntry() the hard way.  <a href="#ga3e07756b155618410a1c3f8ee10d2b14"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__rpmtypes.html#ga06da857c39457bfb6ea9049643fdb706">rpmRC</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__header.html#gae40693275adebc7fe9bbd78f81bfa90b">rpmReadHeader</a> (<a class="el" href="group__rpmtypes.html#ga1a512138316a227059ca128597dbd464">rpmts</a> ts, <a class="el" href="group__rpmtypes.html#ga078f4187c683508f3147e94397bab8d5">FD_t</a> fd, <a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a> *hdrp, char **msg)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return checked and loaded header.  <a href="#gae40693275adebc7fe9bbd78f81bfa90b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__rpmtypes.html#ga06da857c39457bfb6ea9049643fdb706">rpmRC</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__header.html#gae10b6de3f6b14ba9bf473e782c6ed65c">rpmReadPackageFile</a> (<a class="el" href="group__rpmtypes.html#ga1a512138316a227059ca128597dbd464">rpmts</a> ts, <a class="el" href="group__rpmtypes.html#ga078f4187c683508f3147e94397bab8d5">FD_t</a> fd, const char *fn, <a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a> *hdrp)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return package header from file handle, verifying digests/signatures.  <a href="#gae10b6de3f6b14ba9bf473e782c6ed65c"></a><br/></td></tr>
</table>
<hr/><h2>Typedef Documentation</h2>
<a class="anchor" id="gad373eb6947a7d73d3b1b1994485d5ed2"></a><!-- doxytag: member="header.h::headerGetFlags" ref="gad373eb6947a7d73d3b1b1994485d5ed2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef enum <a class="el" href="group__header.html#gae10b109d8e56faba07f4743b797b893a">headerGetFlags_e</a>  <a class="el" href="group__header.html#gad373eb6947a7d73d3b1b1994485d5ed2">headerGetFlags</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Modifier flags for <a class="el" href="group__header.html#gac98158ce673dd0b7bfe61a8ee5bb6b8e" title="Retrieve tag value.">headerGet()</a> operation. </p>
<p>For consistent behavior you'll probably want to use ALLOC to ensure the caller owns the data, but MINMEM is useful for avoiding extra copy of data when you are sure the header wont go away. Most of the time you'll probably want EXT too, but note that extensions tags don't generally honor the other flags, MINMEM, RAW, ALLOC and ARGV are only relevant for non-extension data. </p>

</div>
</div>
<a class="anchor" id="ga8476a91f8c0ba36b3255ff0b63768d8b"></a><!-- doxytag: member="rpmtag.h::rpmSubTagType" ref="ga8476a91f8c0ba36b3255ff0b63768d8b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef enum <a class="el" href="group__header.html#ga8252a017b6a137ec3e54d0c2ad8f332f">rpmSubTagType_e</a>  <a class="el" href="group__header.html#ga8476a91f8c0ba36b3255ff0b63768d8b">rpmSubTagType</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>New rpm data types under consideration/development. </p>
<p>These data types may (or may not) be added to rpm at some point. In order to avoid incompatibility with legacy versions of rpm, these data (sub-)types are introduced into the header by overloading RPM_BIN_TYPE, with the binary value of the tag a 16 byte image of what should/will be in the header index, followed by per-tag private data. </p>

</div>
</div>
<a class="anchor" id="gabbb338c52d79c085d0f0e39c9e1026e6"></a><!-- doxytag: member="rpmtag.h::rpmTagReturnType" ref="gabbb338c52d79c085d0f0e39c9e1026e6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef enum <a class="el" href="group__header.html#ga06b1ee1d4b501cad4d8aebe07cfc8eb3">rpmTagReturnType_e</a>  <a class="el" href="group__header.html#gabbb338c52d79c085d0f0e39c9e1026e6">rpmTagReturnType</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>* Identify how to return the header data type. </p>

</div>
</div>
<a class="anchor" id="gae3bf8d35e51bc1fbaa1a2a5acdceb79e"></a><!-- doxytag: member="rpmtag.h::rpmTagType" ref="gae3bf8d35e51bc1fbaa1a2a5acdceb79e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef enum <a class="el" href="group__header.html#ga24690e18a34d56e178edf27b5cc97fed">rpmTagType_e</a>  <a class="el" href="group__header.html#gae3bf8d35e51bc1fbaa1a2a5acdceb79e">rpmTagType</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The basic types of data in tags from headers. </p>

</div>
</div>
<hr/><h2>Enumeration Type Documentation</h2>
<a class="anchor" id="gae10b109d8e56faba07f4743b797b893a"></a><!-- doxytag: member="header.h::headerGetFlags_e" ref="gae10b109d8e56faba07f4743b797b893a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__header.html#gae10b109d8e56faba07f4743b797b893a">headerGetFlags_e</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Modifier flags for <a class="el" href="group__header.html#gac98158ce673dd0b7bfe61a8ee5bb6b8e" title="Retrieve tag value.">headerGet()</a> operation. </p>
<p>For consistent behavior you'll probably want to use ALLOC to ensure the caller owns the data, but MINMEM is useful for avoiding extra copy of data when you are sure the header wont go away. Most of the time you'll probably want EXT too, but note that extensions tags don't generally honor the other flags, MINMEM, RAW, ALLOC and ARGV are only relevant for non-extension data. </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="ggae10b109d8e56faba07f4743b797b893aa10a9f914f9b8f462ad846dc27cab28c6"></a><!-- doxytag: member="HEADERGET_DEFAULT" ref="ggae10b109d8e56faba07f4743b797b893aa10a9f914f9b8f462ad846dc27cab28c6" args="" -->HEADERGET_DEFAULT</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggae10b109d8e56faba07f4743b797b893aa9ff0aaa4dbaf60dc852c5af8ca6487f2"></a><!-- doxytag: member="HEADERGET_MINMEM" ref="ggae10b109d8e56faba07f4743b797b893aa9ff0aaa4dbaf60dc852c5af8ca6487f2" args="" -->HEADERGET_MINMEM</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggae10b109d8e56faba07f4743b797b893aa38f8e76cedf30634d4d7621be70c5847"></a><!-- doxytag: member="HEADERGET_EXT" ref="ggae10b109d8e56faba07f4743b797b893aa38f8e76cedf30634d4d7621be70c5847" args="" -->HEADERGET_EXT</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggae10b109d8e56faba07f4743b797b893aa9323938f8824a1257d24adec115996a4"></a><!-- doxytag: member="HEADERGET_RAW" ref="ggae10b109d8e56faba07f4743b797b893aa9323938f8824a1257d24adec115996a4" args="" -->HEADERGET_RAW</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggae10b109d8e56faba07f4743b797b893aa8fb050c50c60c1b2a931a56e0beb2b8a"></a><!-- doxytag: member="HEADERGET_ALLOC" ref="ggae10b109d8e56faba07f4743b797b893aa8fb050c50c60c1b2a931a56e0beb2b8a" args="" -->HEADERGET_ALLOC</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggae10b109d8e56faba07f4743b797b893aa3dc9e71e8a1777e9a68adde6569aef96"></a><!-- doxytag: member="HEADERGET_ARGV" ref="ggae10b109d8e56faba07f4743b797b893aa3dc9e71e8a1777e9a68adde6569aef96" args="" -->HEADERGET_ARGV</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="header_8h_source.html#l00166">166</a> of file <a class="el" href="header_8h_source.html">header.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga2572591faf5430cdf28aaf9f70d74fa4"></a><!-- doxytag: member="header.h::hMagic" ref="ga2572591faf5430cdf28aaf9f70d74fa4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__header.html#ga2572591faf5430cdf28aaf9f70d74fa4">hMagic</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Include calculation for 8 bytes of (magic, 0)? </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="gga2572591faf5430cdf28aaf9f70d74fa4a4df0aa5955f506525b5a5537605e3092"></a><!-- doxytag: member="HEADER_MAGIC_NO" ref="gga2572591faf5430cdf28aaf9f70d74fa4a4df0aa5955f506525b5a5537605e3092" args="" -->HEADER_MAGIC_NO</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga2572591faf5430cdf28aaf9f70d74fa4aebb6d0af72ae9d4c607e81796dafa472"></a><!-- doxytag: member="HEADER_MAGIC_YES" ref="gga2572591faf5430cdf28aaf9f70d74fa4aebb6d0af72ae9d4c607e81796dafa472" args="" -->HEADER_MAGIC_YES</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="header_8h_source.html#l00032">32</a> of file <a class="el" href="header_8h_source.html">header.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga8252a017b6a137ec3e54d0c2ad8f332f"></a><!-- doxytag: member="rpmtag.h::rpmSubTagType_e" ref="ga8252a017b6a137ec3e54d0c2ad8f332f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__header.html#ga8252a017b6a137ec3e54d0c2ad8f332f">rpmSubTagType_e</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>New rpm data types under consideration/development. </p>
<p>These data types may (or may not) be added to rpm at some point. In order to avoid incompatibility with legacy versions of rpm, these data (sub-)types are introduced into the header by overloading RPM_BIN_TYPE, with the binary value of the tag a 16 byte image of what should/will be in the header index, followed by per-tag private data. </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="gga8252a017b6a137ec3e54d0c2ad8f332faf66af42afcdb5ed4a78d3771e01ad84d"></a><!-- doxytag: member="RPM_REGION_TYPE" ref="gga8252a017b6a137ec3e54d0c2ad8f332faf66af42afcdb5ed4a78d3771e01ad84d" args="" -->RPM_REGION_TYPE</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga8252a017b6a137ec3e54d0c2ad8f332fadef6f13d3e7cfb28d2835380fe54e625"></a><!-- doxytag: member="RPM_BIN_ARRAY_TYPE" ref="gga8252a017b6a137ec3e54d0c2ad8f332fadef6f13d3e7cfb28d2835380fe54e625" args="" -->RPM_BIN_ARRAY_TYPE</em>&nbsp;</td><td>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000027">Todo:</a></b></dt><dd>Implement, kinda like RPM_STRING_ARRAY_TYPE for known (but variable) length binary data. </dd></dl>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga8252a017b6a137ec3e54d0c2ad8f332fadc7dd89d43dc44dbd438c5a2cafbe476"></a><!-- doxytag: member="RPM_XREF_TYPE" ref="gga8252a017b6a137ec3e54d0c2ad8f332fadc7dd89d43dc44dbd438c5a2cafbe476" args="" -->RPM_XREF_TYPE</em>&nbsp;</td><td>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000028">Todo:</a></b></dt><dd>Implement, intent is to to carry a (???,tagNum,valNum) cross reference to retrieve data from other tags. </dd></dl>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="rpmtag_8h_source.html#l00362">362</a> of file <a class="el" href="rpmtag_8h_source.html">rpmtag.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga06b1ee1d4b501cad4d8aebe07cfc8eb3"></a><!-- doxytag: member="rpmtag.h::rpmTagReturnType_e" ref="ga06b1ee1d4b501cad4d8aebe07cfc8eb3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__header.html#ga06b1ee1d4b501cad4d8aebe07cfc8eb3">rpmTagReturnType_e</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>* Identify how to return the header data type. </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="gga06b1ee1d4b501cad4d8aebe07cfc8eb3a85833a03c9ca291cb4079436f1d0e691"></a><!-- doxytag: member="RPM_ANY_RETURN_TYPE" ref="gga06b1ee1d4b501cad4d8aebe07cfc8eb3a85833a03c9ca291cb4079436f1d0e691" args="" -->RPM_ANY_RETURN_TYPE</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga06b1ee1d4b501cad4d8aebe07cfc8eb3ab4a1533449cae4783b75dc4f63fea4c3"></a><!-- doxytag: member="RPM_SCALAR_RETURN_TYPE" ref="gga06b1ee1d4b501cad4d8aebe07cfc8eb3ab4a1533449cae4783b75dc4f63fea4c3" args="" -->RPM_SCALAR_RETURN_TYPE</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga06b1ee1d4b501cad4d8aebe07cfc8eb3a52b4a26c0e82c4c1481fdc66c1bb3dce"></a><!-- doxytag: member="RPM_ARRAY_RETURN_TYPE" ref="gga06b1ee1d4b501cad4d8aebe07cfc8eb3a52b4a26c0e82c4c1481fdc66c1bb3dce" args="" -->RPM_ARRAY_RETURN_TYPE</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga06b1ee1d4b501cad4d8aebe07cfc8eb3a8aad2b81c577a54f0451fe6562d4107c"></a><!-- doxytag: member="RPM_MAPPING_RETURN_TYPE" ref="gga06b1ee1d4b501cad4d8aebe07cfc8eb3a8aad2b81c577a54f0451fe6562d4107c" args="" -->RPM_MAPPING_RETURN_TYPE</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga06b1ee1d4b501cad4d8aebe07cfc8eb3a1acf76a1e638f855f013084e294af9be"></a><!-- doxytag: member="RPM_MASK_RETURN_TYPE" ref="gga06b1ee1d4b501cad4d8aebe07cfc8eb3a1acf76a1e638f855f013084e294af9be" args="" -->RPM_MASK_RETURN_TYPE</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="rpmtag_8h_source.html#l00375">375</a> of file <a class="el" href="rpmtag_8h_source.html">rpmtag.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga24690e18a34d56e178edf27b5cc97fed"></a><!-- doxytag: member="rpmtag.h::rpmTagType_e" ref="ga24690e18a34d56e178edf27b5cc97fed" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__header.html#ga24690e18a34d56e178edf27b5cc97fed">rpmTagType_e</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The basic types of data in tags from headers. </p>

<p>Definition at line <a class="el" href="rpmtag_8h_source.html#l00327">327</a> of file <a class="el" href="rpmtag_8h_source.html">rpmtag.h</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ga15495e6d814dcc087960f094ee747105"></a><!-- doxytag: member="header.h::headerAddI18NString" ref="ga15495e6d814dcc087960f094ee747105" args="(Header h, rpmTag tag, const char *string, const char *lang)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int headerAddI18NString </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a>&nbsp;</td>
          <td class="paramname"> <em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__rpmtag.html#gad0da081a8aa5491edae4ad732d03c2f3">rpmTag</a>&nbsp;</td>
          <td class="paramname"> <em>tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>string</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>lang</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Add locale specific tag to header. </p>
<p>A NULL lang is interpreted as the C locale. Here are the rules: </p>
<div class="fragment"><pre class="fragment">
 *	- If the tag isn't in the header, it's added with the passed string
 *	   as new value.
 *	- If the tag occurs multiple times in entry, which tag is affected
 *	   by the operation is undefined.
 *	- If the tag is in the header w/ this language, the entry is
 *	   *replaced* (like headerMod()).
 * </pre></div><p> This function is intended to just "do the right thing". If you need more fine grained control use <a class="el" href="group__header.html#ga2275b05ca8482917028356781f9a125d" title="Add or append tag to header.">headerPut()</a> and <a class="el" href="group__header.html#ga1da44d2ff4356452098ecab7214ec66d" title="Modify tag in header.">headerMod()</a>.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>h</em>&nbsp;</td><td>header </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>tag</em>&nbsp;</td><td>tag </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>tag value </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>lang</em>&nbsp;</td><td>locale </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>1 on success, 0 on failure </dd></dl>

</div>
</div>
<a class="anchor" id="ga3e07756b155618410a1c3f8ee10d2b14"></a><!-- doxytag: member="rpmlib.h::headerCheck" ref="ga3e07756b155618410a1c3f8ee10d2b14" args="(rpmts ts, const void *uh, size_t uc, char **msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__rpmtypes.html#ga06da857c39457bfb6ea9049643fdb706">rpmRC</a> headerCheck </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__rpmtypes.html#ga1a512138316a227059ca128597dbd464">rpmts</a>&nbsp;</td>
          <td class="paramname"> <em>ts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>uh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>uc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&nbsp;</td>
          <td class="paramname"> <em>msg</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Check header consistency, performing headerGetEntry() the hard way. </p>
<p>Sanity checks on the header are performed while looking for a header-only digest or signature to verify the blob. If found, the digest or signature is verified.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ts</em>&nbsp;</td><td>transaction set </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>uh</em>&nbsp;</td><td>unloaded header blob </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>uc</em>&nbsp;</td><td>no. of bytes in blob (or 0 to disable) </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>*msg</em>&nbsp;</td><td>verification error message (or NULL) </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>RPMRC_OK on success </dd></dl>

</div>
</div>
<a class="anchor" id="gab1eb7d04798d892e03ec01a8e281ba79"></a><!-- doxytag: member="rpmlib.h::headerCheckPayloadFormat" ref="gab1eb7d04798d892e03ec01a8e281ba79" args="(Header h)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__rpmtypes.html#ga06da857c39457bfb6ea9049643fdb706">rpmRC</a> headerCheckPayloadFormat </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a>&nbsp;</td>
          <td class="paramname"> <em>h</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Check for supported payload format in header. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>h</em>&nbsp;</td><td>header to check </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>RPMRC_OK if supported, RPMRC_FAIL otherwise </dd></dl>

</div>
</div>
<a class="anchor" id="gadb51fc439f8aec6155f5c38732670261"></a><!-- doxytag: member="header.h::headerConvert" ref="gadb51fc439f8aec6155f5c38732670261" args="(Header h, headerConvOps op)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int headerConvert </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a>&nbsp;</td>
          <td class="paramname"> <em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="header_8h.html#ab81daf21bb30b7973d62048d77f08c04">headerConvOps</a>&nbsp;</td>
          <td class="paramname"> <em>op</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Convert header to/from (legacy) data presentation. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>h</em>&nbsp;</td><td>header </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>op</em>&nbsp;</td><td>operation </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>1 on success, 0 on failure </dd></dl>

</div>
</div>
<a class="anchor" id="gac6ec9b02a38e9ad6bc9bd10c73eb2960"></a><!-- doxytag: member="header.h::headerCopy" ref="gac6ec9b02a38e9ad6bc9bd10c73eb2960" args="(Header h)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a> headerCopy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a>&nbsp;</td>
          <td class="paramname"> <em>h</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Duplicate a header. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>h</em>&nbsp;</td><td>header </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>new header instance </dd></dl>

</div>
</div>
<a class="anchor" id="gaa4af55b82df3f36dd7257cd3a1b2b7d9"></a><!-- doxytag: member="header.h::headerCopyLoad" ref="gaa4af55b82df3f36dd7257cd3a1b2b7d9" args="(const void *uh)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a> headerCopyLoad </td>
          <td>(</td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>uh</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Make a copy and convert header to in-memory representation. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>uh</em>&nbsp;</td><td>on-disk header blob (i.e. with offsets) </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>header </dd></dl>

</div>
</div>
<a class="anchor" id="gae1aab6baf1d3114190a78b534c959130"></a><!-- doxytag: member="header.h::headerCopyTags" ref="gae1aab6baf1d3114190a78b534c959130" args="(Header headerFrom, Header headerTo, const rpmTag *tagstocopy)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void headerCopyTags </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a>&nbsp;</td>
          <td class="paramname"> <em>headerFrom</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a>&nbsp;</td>
          <td class="paramname"> <em>headerTo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group__rpmtag.html#gad0da081a8aa5491edae4ad732d03c2f3">rpmTag</a> *&nbsp;</td>
          <td class="paramname"> <em>tagstocopy</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Duplicate tag values from one header into another. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>headerFrom</em>&nbsp;</td><td>source header </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>headerTo</em>&nbsp;</td><td>destination header </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>tagstocopy</em>&nbsp;</td><td>array of tags that are copied </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga8abc680555eb4c8d5ba014740c63dc33"></a><!-- doxytag: member="header.h::headerDel" ref="ga8abc680555eb4c8d5ba014740c63dc33" args="(Header h, rpmTag tag)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int headerDel </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a>&nbsp;</td>
          <td class="paramname"> <em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__rpmtag.html#gad0da081a8aa5491edae4ad732d03c2f3">rpmTag</a>&nbsp;</td>
          <td class="paramname"> <em>tag</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Delete tag in header. </p>
<p>Removes all entries of type tag from the header, returns 1 if none were found.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>h</em>&nbsp;</td><td>header </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>tag</em>&nbsp;</td><td>tag </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 on success, 1 on failure (INCONSISTENT) </dd></dl>

</div>
</div>
<a class="anchor" id="gaca1e14f3cde6bfbc931582dfb52f5307"></a><!-- doxytag: member="header.h::headerFormat" ref="gaca1e14f3cde6bfbc931582dfb52f5307" args="(Header h, const char *fmt, errmsg_t *errmsg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* headerFormat </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a>&nbsp;</td>
          <td class="paramname"> <em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>fmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="rpmtypes_8h.html#ab20ae37fc60551c3abf7f9b25fcd3bc2">errmsg_t</a> *&nbsp;</td>
          <td class="paramname"> <em>errmsg</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return formatted output string from header tags. </p>
<p>The returned string must be free()d.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>h</em>&nbsp;</td><td>header </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>fmt</em>&nbsp;</td><td>format to use </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>errmsg</em>&nbsp;</td><td>error message (if any) </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>formatted output string (malloc'ed) </dd></dl>

</div>
</div>
<a class="anchor" id="ga15e58ea36a4ad540759989db341797ce"></a><!-- doxytag: member="header.h::headerFree" ref="ga15e58ea36a4ad540759989db341797ce" args="(Header h)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a> headerFree </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a>&nbsp;</td>
          <td class="paramname"> <em>h</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Dereference a header instance. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>h</em>&nbsp;</td><td>header </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>NULL always </dd></dl>

</div>
</div>
<a class="anchor" id="ga98877806b624ced2fac5cd0bb50239a4"></a><!-- doxytag: member="header.h::headerFreeIterator" ref="ga98877806b624ced2fac5cd0bb50239a4" args="(HeaderIterator hi)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__rpmtypes.html#ga04fc66186d2c57c59085895c232091ab">HeaderIterator</a> headerFreeIterator </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__rpmtypes.html#ga04fc66186d2c57c59085895c232091ab">HeaderIterator</a>&nbsp;</td>
          <td class="paramname"> <em>hi</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Destroy header tag iterator. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>hi</em>&nbsp;</td><td>header tag iterator </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>NULL always </dd></dl>

</div>
</div>
<a class="anchor" id="gac98158ce673dd0b7bfe61a8ee5bb6b8e"></a><!-- doxytag: member="header.h::headerGet" ref="gac98158ce673dd0b7bfe61a8ee5bb6b8e" args="(Header h, rpmTag tag, rpmtd td, headerGetFlags flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int headerGet </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a>&nbsp;</td>
          <td class="paramname"> <em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__rpmtag.html#gad0da081a8aa5491edae4ad732d03c2f3">rpmTag</a>&nbsp;</td>
          <td class="paramname"> <em>tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structrpmtd__s.html">rpmtd</a>&nbsp;</td>
          <td class="paramname"> <em>td</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__header.html#gad373eb6947a7d73d3b1b1994485d5ed2">headerGetFlags</a>&nbsp;</td>
          <td class="paramname"> <em>flags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Retrieve tag value. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>h</em>&nbsp;</td><td>header </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>tag</em>&nbsp;</td><td>tag </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>td</em>&nbsp;</td><td>tag data container </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>flags</em>&nbsp;</td><td>retrieval modifier flags </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>1 on success, 0 on failure </dd></dl>

</div>
</div>
<a class="anchor" id="ga7ba52984c0bf7d211e155653fadb08a3"></a><!-- doxytag: member="header.h::headerGetAsString" ref="ga7ba52984c0bf7d211e155653fadb08a3" args="(Header h, rpmTag tag)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* headerGetAsString </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a>&nbsp;</td>
          <td class="paramname"> <em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__rpmtag.html#gad0da081a8aa5491edae4ad732d03c2f3">rpmTag</a>&nbsp;</td>
          <td class="paramname"> <em>tag</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return any non-array tag from header, converted to string. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>h</em>&nbsp;</td><td>header </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>tag</em>&nbsp;</td><td>tag to retrieve </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>string pointer (malloced) or NULL on failure </dd></dl>

</div>
</div>
<a class="anchor" id="ga9a7ff128c2e2265a6f690b831c140869"></a><!-- doxytag: member="header.h::headerGetColor" ref="ga9a7ff128c2e2265a6f690b831c140869" args="(Header h)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__rpmtypes.html#ga5320e2d8dbd395706d114a4d8fc93505">rpm_color_t</a> headerGetColor </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a>&nbsp;</td>
          <td class="paramname"> <em>h</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return header color. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>h</em>&nbsp;</td><td>header </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>header color </dd></dl>

</div>
</div>
<a class="anchor" id="gab2ead5204f382040cd30cd4be1688990"></a><!-- doxytag: member="header.h::headerGetInstance" ref="gab2ead5204f382040cd30cd4be1688990" args="(Header h)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int headerGetInstance </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a>&nbsp;</td>
          <td class="paramname"> <em>h</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return header instance, ie is the header from rpmdb. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>h</em>&nbsp;</td><td>header </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>rpmdb record number or 0 </dd></dl>

</div>
</div>
<a class="anchor" id="ga1147113c1a5824ddeece795c2c9796b5"></a><!-- doxytag: member="header.h::headerGetNEVR" ref="ga1147113c1a5824ddeece795c2c9796b5" args="(Header h, const char **np)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* headerGetNEVR </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a>&nbsp;</td>
          <td class="paramname"> <em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char **&nbsp;</td>
          <td class="paramname"> <em>np</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return (malloc'd) header name-version-release string. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>h</em>&nbsp;</td><td>header </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>np</em>&nbsp;</td><td>name tag value </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>name-version-release string </dd></dl>

</div>
</div>
<a class="anchor" id="ga2f7ee03b911777a50b590c9cb51c982e"></a><!-- doxytag: member="header.h::headerGetNEVRA" ref="ga2f7ee03b911777a50b590c9cb51c982e" args="(Header h, const char **np)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* headerGetNEVRA </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a>&nbsp;</td>
          <td class="paramname"> <em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char **&nbsp;</td>
          <td class="paramname"> <em>np</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return (malloc'd) header name-version-release.arch string. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>h</em>&nbsp;</td><td>header </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>np</em>&nbsp;</td><td>name tag value </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>name-version-release string </dd></dl>

</div>
</div>
<a class="anchor" id="gaa463e9ebbaf81004c62b864b42f97dab"></a><!-- doxytag: member="header.h::headerGetString" ref="gaa463e9ebbaf81004c62b864b42f97dab" args="(Header h, rpmTag tag)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* headerGetString </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a>&nbsp;</td>
          <td class="paramname"> <em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__rpmtag.html#gad0da081a8aa5491edae4ad732d03c2f3">rpmTag</a>&nbsp;</td>
          <td class="paramname"> <em>tag</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return a simple string tag from header. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>h</em>&nbsp;</td><td>header </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>tag</em>&nbsp;</td><td>tag to retrieve </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>string pointer (to header memory) or NULL on failure </dd></dl>

<p>Referenced by <a class="el" href="rpm2cpio_8c_source.html#l00015">main()</a>.</p>

</div>
</div>
<a class="anchor" id="gae549f696a160547449c7fbd3606026b3"></a><!-- doxytag: member="header.h::headerInitIterator" ref="gae549f696a160547449c7fbd3606026b3" args="(Header h)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__rpmtypes.html#ga04fc66186d2c57c59085895c232091ab">HeaderIterator</a> headerInitIterator </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a>&nbsp;</td>
          <td class="paramname"> <em>h</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Create header tag iterator. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>h</em>&nbsp;</td><td>header </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>header tag iterator </dd></dl>

</div>
</div>
<a class="anchor" id="gaa2c9e0264839533d7b7061a347b82f9f"></a><!-- doxytag: member="header.h::headerIsEntry" ref="gaa2c9e0264839533d7b7061a347b82f9f" args="(Header h, rpmTag tag)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int headerIsEntry </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a>&nbsp;</td>
          <td class="paramname"> <em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__rpmtag.html#gad0da081a8aa5491edae4ad732d03c2f3">rpmTag</a>&nbsp;</td>
          <td class="paramname"> <em>tag</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Check if tag is in header. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>h</em>&nbsp;</td><td>header </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>tag</em>&nbsp;</td><td>tag </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>1 on success, 0 on failure </dd></dl>

<p>Referenced by <a class="el" href="build_8c_source.html#l00026">checkSpec()</a>.</p>

</div>
</div>
<a class="anchor" id="ga3e665b416a45423189eefd54d32e8826"></a><!-- doxytag: member="header.h::headerIsSource" ref="ga3e665b416a45423189eefd54d32e8826" args="(Header h)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int headerIsSource </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a>&nbsp;</td>
          <td class="paramname"> <em>h</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Check if header is a source or binary package header. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>h</em>&nbsp;</td><td>header </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 == binary, 1 == source </dd></dl>

</div>
</div>
<a class="anchor" id="gab8e8158584de00bad7bbf91cd7b43e72"></a><!-- doxytag: member="header.h::headerLink" ref="gab8e8158584de00bad7bbf91cd7b43e72" args="(Header h)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a> headerLink </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a>&nbsp;</td>
          <td class="paramname"> <em>h</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reference a header instance. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>h</em>&nbsp;</td><td>header </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>new header reference </dd></dl>

</div>
</div>
<a class="anchor" id="gaa44e906299e81eda325dbef9fd991c9c"></a><!-- doxytag: member="header.h::headerLoad" ref="gaa44e906299e81eda325dbef9fd991c9c" args="(void *uh)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a> headerLoad </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>uh</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Convert header to in-memory representation. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>uh</em>&nbsp;</td><td>on-disk header blob (i.e. with offsets) </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>header </dd></dl>

</div>
</div>
<a class="anchor" id="ga95e02e0e6be7de34f141fe8e82515ae8"></a><!-- doxytag: member="rpmlib.h::headerMergeLegacySigs" ref="ga95e02e0e6be7de34f141fe8e82515ae8" args="(Header h, const Header sigh)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void headerMergeLegacySigs </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a>&nbsp;</td>
          <td class="paramname"> <em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a>&nbsp;</td>
          <td class="paramname"> <em>sigh</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Translate and merge legacy signature tags into header. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000015">Todo:</a></b></dt><dd>Remove <a class="el" href="group__header.html#gab68de4a4d57795669a97ba8a101f3e51" title="Sort tags in header.">headerSort()</a> through <a class="el" href="group__header.html#gae549f696a160547449c7fbd3606026b3" title="Create header tag iterator.">headerInitIterator()</a> modifies sig. </dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>h</em>&nbsp;</td><td>header </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>sigh</em>&nbsp;</td><td>signature header </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga1da44d2ff4356452098ecab7214ec66d"></a><!-- doxytag: member="header.h::headerMod" ref="ga1da44d2ff4356452098ecab7214ec66d" args="(Header h, rpmtd td)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int headerMod </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a>&nbsp;</td>
          <td class="paramname"> <em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structrpmtd__s.html">rpmtd</a>&nbsp;</td>
          <td class="paramname"> <em>td</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Modify tag in header. </p>
<p>If there are multiple entries with this tag, the first one gets replaced. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>h</em>&nbsp;</td><td>header </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>td</em>&nbsp;</td><td>tag data container </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>1 on success, 0 on failure </dd></dl>

</div>
</div>
<a class="anchor" id="ga86e3f5171850a18858c237f2b3dbd797"></a><!-- doxytag: member="header.h::headerNEVRA" ref="ga86e3f5171850a18858c237f2b3dbd797" args="(Header h, const char **np, uint32_t **ep, const char **vp, const char **rp, const char **ap)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int headerNEVRA </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a>&nbsp;</td>
          <td class="paramname"> <em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char **&nbsp;</td>
          <td class="paramname"> <em>np</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t **&nbsp;</td>
          <td class="paramname"> <em>ep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char **&nbsp;</td>
          <td class="paramname"> <em>vp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char **&nbsp;</td>
          <td class="paramname"> <em>rp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char **&nbsp;</td>
          <td class="paramname"> <em>ap</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return name, epoch, version, release, arch strings from header. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>h</em>&nbsp;</td><td>header </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>*np</em>&nbsp;</td><td>name pointer (or NULL) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>*ep</em>&nbsp;</td><td>epoch pointer (or NULL) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>*vp</em>&nbsp;</td><td>version pointer (or NULL) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>*rp</em>&nbsp;</td><td>release pointer (or NULL) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>*ap</em>&nbsp;</td><td>arch pointer (or NULL) </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 always </dd></dl>

</div>
</div>
<a class="anchor" id="gaba1932e7962b6c650006c3083530b042"></a><!-- doxytag: member="header.h::headerNew" ref="gaba1932e7962b6c650006c3083530b042" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a> headerNew </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Create new (empty) header instance. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>header </dd></dl>

</div>
</div>
<a class="anchor" id="ga9c4cc53c5f7e88665752bbceee2e5756"></a><!-- doxytag: member="header.h::headerNext" ref="ga9c4cc53c5f7e88665752bbceee2e5756" args="(HeaderIterator hi, rpmtd td)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int headerNext </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__rpmtypes.html#ga04fc66186d2c57c59085895c232091ab">HeaderIterator</a>&nbsp;</td>
          <td class="paramname"> <em>hi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structrpmtd__s.html">rpmtd</a>&nbsp;</td>
          <td class="paramname"> <em>td</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return next tag contents from header. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>hi</em>&nbsp;</td><td>header tag iterator </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>td</em>&nbsp;</td><td>tag data container </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>1 on success, 0 on failure </dd></dl>

</div>
</div>
<a class="anchor" id="ga2cef14fa59c93efe4f3359a245c2a772"></a><!-- doxytag: member="header.h::headerNextTag" ref="ga2cef14fa59c93efe4f3359a245c2a772" args="(HeaderIterator hi)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__rpmtag.html#gad0da081a8aa5491edae4ad732d03c2f3">rpmTag</a> headerNextTag </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__rpmtypes.html#ga04fc66186d2c57c59085895c232091ab">HeaderIterator</a>&nbsp;</td>
          <td class="paramname"> <em>hi</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return next tag number from header. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>hi</em>&nbsp;</td><td>header tag iterator </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>next tag, RPMTAG_NOT_FOUND to stop iteration </dd></dl>

</div>
</div>
<a class="anchor" id="ga50514667473d848fc998df421ca3ce12"></a><!-- doxytag: member="header.h::headerNVR" ref="ga50514667473d848fc998df421ca3ce12" args="(Header h, const char **np, const char **vp, const char **rp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int headerNVR </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a>&nbsp;</td>
          <td class="paramname"> <em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char **&nbsp;</td>
          <td class="paramname"> <em>np</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char **&nbsp;</td>
          <td class="paramname"> <em>vp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char **&nbsp;</td>
          <td class="paramname"> <em>rp</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return name, version, release strings from header. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>h</em>&nbsp;</td><td>header </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>*np</em>&nbsp;</td><td>name pointer (or NULL) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>*vp</em>&nbsp;</td><td>version pointer (or NULL) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>*rp</em>&nbsp;</td><td>release pointer (or NULL) </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 always </dd></dl>

</div>
</div>
<a class="anchor" id="ga2275b05ca8482917028356781f9a125d"></a><!-- doxytag: member="header.h::headerPut" ref="ga2275b05ca8482917028356781f9a125d" args="(Header h, rpmtd td, headerPutFlags flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int headerPut </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a>&nbsp;</td>
          <td class="paramname"> <em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structrpmtd__s.html">rpmtd</a>&nbsp;</td>
          <td class="paramname"> <em>td</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="header_8h.html#a78a25d9f4b5c1d30de1e3b34432846f0">headerPutFlags</a>&nbsp;</td>
          <td class="paramname"> <em>flags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Add or append tag to header. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>h</em>&nbsp;</td><td>header </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>td</em>&nbsp;</td><td>tag data container </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>flags</em>&nbsp;</td><td>flags to control operation </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>1 on success, 0 on failure </dd></dl>

</div>
</div>
<a class="anchor" id="ga3c227df7c35ae7fd6bc07e48087110bf"></a><!-- doxytag: member="header.h::headerPutBin" ref="ga3c227df7c35ae7fd6bc07e48087110bf" args="(Header h, rpmTag tag, uint8_t *val, rpm_count_t size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int headerPutBin </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a>&nbsp;</td>
          <td class="paramname"> <em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__rpmtag.html#gad0da081a8aa5491edae4ad732d03c2f3">rpmTag</a>&nbsp;</td>
          <td class="paramname"> <em>tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&nbsp;</td>
          <td class="paramname"> <em>val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__rpmtypes.html#ga12927399545450cd58cca8abdc44e768">rpm_count_t</a>&nbsp;</td>
          <td class="paramname"> <em>size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ga9618a57fe517a9b4ede1282eae81babd"></a><!-- doxytag: member="header.h::headerPutChar" ref="ga9618a57fe517a9b4ede1282eae81babd" args="(Header h, rpmTag tag, char *val, rpm_count_t size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int headerPutChar </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a>&nbsp;</td>
          <td class="paramname"> <em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__rpmtag.html#gad0da081a8aa5491edae4ad732d03c2f3">rpmTag</a>&nbsp;</td>
          <td class="paramname"> <em>tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__rpmtypes.html#ga12927399545450cd58cca8abdc44e768">rpm_count_t</a>&nbsp;</td>
          <td class="paramname"> <em>size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ga31d76c8191f000b6fae9478c9a563942"></a><!-- doxytag: member="header.h::headerPutString" ref="ga31d76c8191f000b6fae9478c9a563942" args="(Header h, rpmTag tag, const char *val)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int headerPutString </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a>&nbsp;</td>
          <td class="paramname"> <em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__rpmtag.html#gad0da081a8aa5491edae4ad732d03c2f3">rpmTag</a>&nbsp;</td>
          <td class="paramname"> <em>tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>val</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Type-safe methods for inserting tag data to header. </p>
<p>Tag data type is validated to match the function type, ie things like headerPutUint32(h, RPMTAG_NAME, ...) will return failure. For non-array types size must equal 1, and data is checked to be non-NULL. For array types, add-or-append mode is always used.</p>
<p><a class="el" href="group__header.html#ga31d76c8191f000b6fae9478c9a563942" title="Type-safe methods for inserting tag data to header.">headerPutString()</a> can be used on both RPM_STRING_TYPE and RPM_STRING_ARRAY_TYPE (to add a single string into the array) tags, for others the type must match exactly.</p>
<p>These are intended to "do the right thing" in the common case, if you need more fine grained control use <a class="el" href="group__header.html#ga2275b05ca8482917028356781f9a125d" title="Add or append tag to header.">headerPut()</a> &amp; friends instead. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000007">Todo:</a></b></dt><dd>Make doxygen group these meaningfully.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>h</em>&nbsp;</td><td>header </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>tag</em>&nbsp;</td><td>tag to insert </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>val</em>&nbsp;</td><td>pointer to value(s) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>size</em>&nbsp;</td><td>number of items in array (1 or larger) </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>1 on success, 0 on failure </dd></dl>

</div>
</div>
<a class="anchor" id="ga7100f4f080dffbf60258792814f77536"></a><!-- doxytag: member="header.h::headerPutStringArray" ref="ga7100f4f080dffbf60258792814f77536" args="(Header h, rpmTag tag, const char **val, rpm_count_t size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int headerPutStringArray </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a>&nbsp;</td>
          <td class="paramname"> <em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__rpmtag.html#gad0da081a8aa5491edae4ad732d03c2f3">rpmTag</a>&nbsp;</td>
          <td class="paramname"> <em>tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char **&nbsp;</td>
          <td class="paramname"> <em>val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__rpmtypes.html#ga12927399545450cd58cca8abdc44e768">rpm_count_t</a>&nbsp;</td>
          <td class="paramname"> <em>size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ga1e4321104521ac402d157a5c583c0edf"></a><!-- doxytag: member="header.h::headerPutUint16" ref="ga1e4321104521ac402d157a5c583c0edf" args="(Header h, rpmTag tag, uint16_t *val, rpm_count_t size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int headerPutUint16 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a>&nbsp;</td>
          <td class="paramname"> <em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__rpmtag.html#gad0da081a8aa5491edae4ad732d03c2f3">rpmTag</a>&nbsp;</td>
          <td class="paramname"> <em>tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t *&nbsp;</td>
          <td class="paramname"> <em>val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__rpmtypes.html#ga12927399545450cd58cca8abdc44e768">rpm_count_t</a>&nbsp;</td>
          <td class="paramname"> <em>size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="gaefd2fe27dd8b33c1c489efc14912b259"></a><!-- doxytag: member="header.h::headerPutUint32" ref="gaefd2fe27dd8b33c1c489efc14912b259" args="(Header h, rpmTag tag, uint32_t *val, rpm_count_t size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int headerPutUint32 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a>&nbsp;</td>
          <td class="paramname"> <em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__rpmtag.html#gad0da081a8aa5491edae4ad732d03c2f3">rpmTag</a>&nbsp;</td>
          <td class="paramname"> <em>tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&nbsp;</td>
          <td class="paramname"> <em>val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__rpmtypes.html#ga12927399545450cd58cca8abdc44e768">rpm_count_t</a>&nbsp;</td>
          <td class="paramname"> <em>size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="gaa6f67f1536c61c9215833e7d4f9ca6e1"></a><!-- doxytag: member="header.h::headerPutUint64" ref="gaa6f67f1536c61c9215833e7d4f9ca6e1" args="(Header h, rpmTag tag, uint64_t *val, rpm_count_t size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int headerPutUint64 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a>&nbsp;</td>
          <td class="paramname"> <em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__rpmtag.html#gad0da081a8aa5491edae4ad732d03c2f3">rpmTag</a>&nbsp;</td>
          <td class="paramname"> <em>tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t *&nbsp;</td>
          <td class="paramname"> <em>val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__rpmtypes.html#ga12927399545450cd58cca8abdc44e768">rpm_count_t</a>&nbsp;</td>
          <td class="paramname"> <em>size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="gabb2c4c1e410476fb52f78ce4c57e7016"></a><!-- doxytag: member="header.h::headerPutUint8" ref="gabb2c4c1e410476fb52f78ce4c57e7016" args="(Header h, rpmTag tag, uint8_t *val, rpm_count_t size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int headerPutUint8 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a>&nbsp;</td>
          <td class="paramname"> <em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__rpmtag.html#gad0da081a8aa5491edae4ad732d03c2f3">rpmTag</a>&nbsp;</td>
          <td class="paramname"> <em>tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&nbsp;</td>
          <td class="paramname"> <em>val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__rpmtypes.html#ga12927399545450cd58cca8abdc44e768">rpm_count_t</a>&nbsp;</td>
          <td class="paramname"> <em>size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ga0cbab66e6c83b62d64b6c52df75279ca"></a><!-- doxytag: member="header.h::headerRead" ref="ga0cbab66e6c83b62d64b6c52df75279ca" args="(FD_t fd, enum hMagic magicp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a> headerRead </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__rpmtypes.html#ga078f4187c683508f3147e94397bab8d5">FD_t</a>&nbsp;</td>
          <td class="paramname"> <em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group__header.html#ga2572591faf5430cdf28aaf9f70d74fa4">hMagic</a>&nbsp;</td>
          <td class="paramname"> <em>magicp</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Read (and load) header from file handle. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fd</em>&nbsp;</td><td>file handle </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>magicp</em>&nbsp;</td><td>read (and verify) 8 bytes of (magic, 0)? </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>header (or NULL on error) </dd></dl>

</div>
</div>
<a class="anchor" id="ga0240750b808fc759dee76f3440194570"></a><!-- doxytag: member="rpmlib.h::headerRegenSigHeader" ref="ga0240750b808fc759dee76f3440194570" args="(const Header h, int noArchiveSize)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a> headerRegenSigHeader </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a>&nbsp;</td>
          <td class="paramname"> <em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>noArchiveSize</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Regenerate signature header. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000016">Todo:</a></b></dt><dd>Remove <a class="el" href="group__header.html#gab68de4a4d57795669a97ba8a101f3e51" title="Sort tags in header.">headerSort()</a> through <a class="el" href="group__header.html#gae549f696a160547449c7fbd3606026b3" title="Create header tag iterator.">headerInitIterator()</a> modifies h. </dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>h</em>&nbsp;</td><td>header </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>noArchiveSize</em>&nbsp;</td><td>don't copy archive size tag (pre rpm-4.1) </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>regenerated signature header </dd></dl>

</div>
</div>
<a class="anchor" id="ga74d1eecf9139f1d231c4e26399aedfd3"></a><!-- doxytag: member="header.h::headerReload" ref="ga74d1eecf9139f1d231c4e26399aedfd3" args="(Header h, rpmTag tag)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a> headerReload </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a>&nbsp;</td>
          <td class="paramname"> <em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__rpmtag.html#gad0da081a8aa5491edae4ad732d03c2f3">rpmTag</a>&nbsp;</td>
          <td class="paramname"> <em>tag</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Convert header to on-disk representation, and then reload. </p>
<p>This is used to insure that all header data is in one chunk. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>h</em>&nbsp;</td><td>header (with pointers) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>tag</em>&nbsp;</td><td>region tag </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>on-disk header (with offsets) </dd></dl>

</div>
</div>
<a class="anchor" id="ga9fa358310da38ad3c2cd5de38229b902"></a><!-- doxytag: member="header.h::headerSizeof" ref="ga9fa358310da38ad3c2cd5de38229b902" args="(Header h, enum hMagic magicp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int headerSizeof </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a>&nbsp;</td>
          <td class="paramname"> <em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group__header.html#ga2572591faf5430cdf28aaf9f70d74fa4">hMagic</a>&nbsp;</td>
          <td class="paramname"> <em>magicp</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return size of on-disk header representation in bytes. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>h</em>&nbsp;</td><td>header </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>magicp</em>&nbsp;</td><td>include size of 8 bytes for (magic, 0)? </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>size of on-disk header </dd></dl>

</div>
</div>
<a class="anchor" id="gab68de4a4d57795669a97ba8a101f3e51"></a><!-- doxytag: member="header.h::headerSort" ref="gab68de4a4d57795669a97ba8a101f3e51" args="(Header h)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void headerSort </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a>&nbsp;</td>
          <td class="paramname"> <em>h</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sort tags in header. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>h</em>&nbsp;</td><td>header </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga67a6b2868df3569f6657ccf763e42515"></a><!-- doxytag: member="header.h::headerUnlink" ref="ga67a6b2868df3569f6657ccf763e42515" args="(Header h)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a> headerUnlink </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a>&nbsp;</td>
          <td class="paramname"> <em>h</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Dereference a header instance. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>h</em>&nbsp;</td><td>header </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>new header reference </dd></dl>

</div>
</div>
<a class="anchor" id="ga33ea43d033ea680a8c5357ed9cec7283"></a><!-- doxytag: member="header.h::headerUnload" ref="ga33ea43d033ea680a8c5357ed9cec7283" args="(Header h)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* headerUnload </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a>&nbsp;</td>
          <td class="paramname"> <em>h</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Convert header to on-disk representation. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>h</em>&nbsp;</td><td>header (with pointers) </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>on-disk header blob (i.e. with offsets) </dd></dl>

</div>
</div>
<a class="anchor" id="ga9b3c8381f8d7e1f0818c40fc32287f02"></a><!-- doxytag: member="header.h::headerUnsort" ref="ga9b3c8381f8d7e1f0818c40fc32287f02" args="(Header h)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void headerUnsort </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a>&nbsp;</td>
          <td class="paramname"> <em>h</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Restore tags in header to original ordering. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>h</em>&nbsp;</td><td>header </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gaf77927dd7aafa1bb3d1d878890387f0f"></a><!-- doxytag: member="header.h::headerVerifyInfo" ref="gaf77927dd7aafa1bb3d1d878890387f0f" args="(int il, int dl, const void *pev, void *iv, int negate)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int headerVerifyInfo </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>il</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>dl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>pev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>iv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>negate</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Perform simple sanity and range checks on header tag(s). </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>il</em>&nbsp;</td><td>no. of tags in header </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>dl</em>&nbsp;</td><td>no. of bytes in header data. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pev</em>&nbsp;</td><td>1st element in tag array, big-endian </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>iv</em>&nbsp;</td><td>failing (or last) tag element, host-endian </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>negate</em>&nbsp;</td><td>negative offset expected? </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>-1 on success, otherwise failing tag element index </dd></dl>

</div>
</div>
<a class="anchor" id="gad22147bbdc44fefcc8a6e54f6f42c69f"></a><!-- doxytag: member="header.h::headerWrite" ref="gad22147bbdc44fefcc8a6e54f6f42c69f" args="(FD_t fd, Header h, enum hMagic magicp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int headerWrite </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__rpmtypes.html#ga078f4187c683508f3147e94397bab8d5">FD_t</a>&nbsp;</td>
          <td class="paramname"> <em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a>&nbsp;</td>
          <td class="paramname"> <em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group__header.html#ga2572591faf5430cdf28aaf9f70d74fa4">hMagic</a>&nbsp;</td>
          <td class="paramname"> <em>magicp</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Write (with unload) header to file handle. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fd</em>&nbsp;</td><td>file handle </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>h</em>&nbsp;</td><td>header </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>magicp</em>&nbsp;</td><td>prefix write with 8 bytes of (magic, 0)? </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 on success, 1 on error </dd></dl>

</div>
</div>
<a class="anchor" id="gae40693275adebc7fe9bbd78f81bfa90b"></a><!-- doxytag: member="rpmlib.h::rpmReadHeader" ref="gae40693275adebc7fe9bbd78f81bfa90b" args="(rpmts ts, FD_t fd, Header *hdrp, char **msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__rpmtypes.html#ga06da857c39457bfb6ea9049643fdb706">rpmRC</a> rpmReadHeader </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__rpmtypes.html#ga1a512138316a227059ca128597dbd464">rpmts</a>&nbsp;</td>
          <td class="paramname"> <em>ts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__rpmtypes.html#ga078f4187c683508f3147e94397bab8d5">FD_t</a>&nbsp;</td>
          <td class="paramname"> <em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a> *&nbsp;</td>
          <td class="paramname"> <em>hdrp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&nbsp;</td>
          <td class="paramname"> <em>msg</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return checked and loaded header. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ts</em>&nbsp;</td><td>transaction set </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>fd</em>&nbsp;</td><td>file handle </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>hdrp</em>&nbsp;</td><td>address of header (or NULL) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>*msg</em>&nbsp;</td><td>verification error message (or NULL) </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>RPMRC_OK on success </dd></dl>

</div>
</div>
<a class="anchor" id="gae10b6de3f6b14ba9bf473e782c6ed65c"></a><!-- doxytag: member="rpmlib.h::rpmReadPackageFile" ref="gae10b6de3f6b14ba9bf473e782c6ed65c" args="(rpmts ts, FD_t fd, const char *fn, Header *hdrp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__rpmtypes.html#ga06da857c39457bfb6ea9049643fdb706">rpmRC</a> rpmReadPackageFile </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__rpmtypes.html#ga1a512138316a227059ca128597dbd464">rpmts</a>&nbsp;</td>
          <td class="paramname"> <em>ts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__rpmtypes.html#ga078f4187c683508f3147e94397bab8d5">FD_t</a>&nbsp;</td>
          <td class="paramname"> <em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>fn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__rpmtypes.html#gacb1ffe4e2d96b8277f9f46ecc0c7b8a6">Header</a> *&nbsp;</td>
          <td class="paramname"> <em>hdrp</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return package header from file handle, verifying digests/signatures. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ts</em>&nbsp;</td><td>transaction set </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>fd</em>&nbsp;</td><td>file handle </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>fn</em>&nbsp;</td><td>file name </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>hdrp</em>&nbsp;</td><td>address of header (or NULL) </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>RPMRC_OK on success </dd></dl>

<p>Referenced by <a class="el" href="rpm2cpio_8c_source.html#l00015">main()</a>.</p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="ga6483a32ca9785bcef5fba196608ac0fb"></a><!-- doxytag: member="header.h::rpm_header_magic" ref="ga6483a32ca9785bcef5fba196608ac0fb" args="[8]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const unsigned char <a class="el" href="group__header.html#ga6483a32ca9785bcef5fba196608ac0fb">rpm_header_magic</a>[8]</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Header magic value. </p>

</div>
</div>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on 24 Dec 2012 for rpm by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
