<!DOCTYPE html PUBliC "-//W3C//dtD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/dtD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<link rel="stylesheet" href="http://www.2cto.com/statics/css/article.css" type="text/css" />
<link rel="stylesheet" href="article.css" type="text/css" />
<link href="http://www.2cto.com/statics/css/dialog.css" rel="stylesheet" type="text/css" />
<title>一天一点学习Linux之硬盘的分区与格式化 - Linux - 红黑联盟</title>
<meta name="keywords" content="一天,一点,学习" />
<meta name="description" content="引言为什么要把硬盘分区？1、维护相关：如可以把相同类型，有共同安全需要的内容，放到不同的分区中，这样方便了维护。2、效率因素：如果一个大的硬盘，在整个硬盘上找到相应的资料，很费时。3、硬盘限额：限额的..." />
<script type="text/javascript" src="http://www.2cto.com/statics/js/jquery.min.js"></script>
<script type="text/javascript" src="http://www.2cto.com/statics/js/jquery.sgallery.js"></script>
<script type="text/javascript" src="http://www.2cto.com/statics/js/search_common.js"></script>
<script type="text/javascript" src="http://cbjs.baidu.com/js/m.js"></script>
<script type="text/javascript" src="http://www.2cto.com/statics/js/json.js"></script>
<script language="javascript" type="text/javascript" src="http://www.2cto.com/statics/js/dialog.js"></script>
</head>

<body>
<div class="line_top_box">
	<dl class="top_box_left">
		<dd class="left_logo"><a href="http://www.2cto.com"></a></dd>
		<dd class="left_menu_link">
													<a class='Channel' href='/News/'>资讯</a>&nbsp;|&nbsp;
													<a class='Channel' href='/Article/'>安全</a>&nbsp;|&nbsp;
													<a class='Channel' href='http://bbs.2cto.com'>论坛</a>&nbsp;|&nbsp;
													<a class='Channel' href='/Soft/'>下载</a>&nbsp;|&nbsp;
													<a class='Channel' href='/kf/'>程序开发</a>&nbsp;|&nbsp;
													<a class='Channel' href='/ym/'>源码</a>&nbsp;|&nbsp;
													<a class='Channel' href='/zz/'>站长学院</a>&nbsp;|&nbsp;
													<a class='Channel' href='/ebook/'>电子书</a>&nbsp;|&nbsp;
													<a class='Channel' href='/QQ/'>QQ</a>&nbsp;|&nbsp;
													<a class='Channel' href='/net/'>网络</a>&nbsp;|&nbsp;
													<a class='Channel' href='/os/'>系统</a>&nbsp;|&nbsp;
													<a class='Channel' href='/database/'>数据库</a>&nbsp;|&nbsp;
													<a class='Channel' href='/px/'>考试</a>&nbsp;|&nbsp;
													<a class='Channel' href='/shouce/'>手册</a>
											</dd>
	</dl>
</div>
<div class="line_top_lmbox">
	<dl class="lmpic"></dl>
	<dl class="lmlinkbox"><dd>
										<a class='Channel' href='http://www.2cto.com/os/linux/'>Linux</a>|
							<a class='Channel' href='http://www.2cto.com/os/windows/'>Windows</a>|
							<a class='Channel' href='http://www.2cto.com/os/dos/'>Dos命令行</a>|
							<a class='Channel' href='http://www.2cto.com/os/liulanqi/'>浏览器</a>|
							<a class='Channel' href='http://www.2cto.com/os/xuniji/'>虚拟机</a>|
							<a class='Channel' href='http://www.2cto.com/qita/'>其他</a>|
								</dd></dl>
</div>
<div class="divline8"></div>
<div class="tadv">

<a target="_blank" href="http://vip.2cto.com/"><img src="http://www.2cto.com/adv/980-80.gif" width="980" height="90" /></a>
<!-- 广告位：顶部banner -->
<script type="text/javascript">BAIDU_CLB_fillSlot("298612");</script>

</div>


<div class="divline8"></div>
<div class="it165_box">
	<div class="box_left">
		
		<dl class="box_p">
			<dd class="pRight"><a href="http://www.2cto.com">首页</a><span> > </span><a href="http://www.2cto.com/os/">系统</a> > <a href="http://www.2cto.com/os/linux/">Linux</a> >  正文</dd>
			<form  name="search" target="_blank" action="http://www.2cto.com/index.php" method="get">
			<dd class="pRSearch">
					<input type="hidden" name="m" value="search"/>
					<input type="hidden" name="c" value="index"/>
					<input type="hidden" name="a" value="init"/>
					<input type="hidden" name="typeid" value="1" id="typeid"/>
					<input type="hidden" name="siteid" value="1" id="siteid"/>
					<input name="Submit1" type="submit" value=" " /></dd>
					<dd class="pRKeyWork"><input id="Keyword" name="q" type="text"/></dd>
			</form>
			</dl>
		<dl class="box_t"><dd>一天一点学习Linux之硬盘的分区与格式化</dd></dl>

		<dl class="box_INFO">
			<dd class="frinfo line_blue">2011-10-24 04:19:00  &nbsp;&nbsp;&nbsp;&nbsp;<a style="font-weight:bold;padding:5px 0px 5px 20px;background:url('http://www.2cto.com/statics/images/icon/user_comment.png') left center no-repeat" href="#comment_iframe">我来说两句&nbsp;</a></dd>
			<dd class="frsize line_blue">
			<span id='favorite'>
				<a href="javascript:;" onclick="add_favorite('一天一点学习Linux之硬盘的分区与格式化');" class="t6">收藏</a>
			</span>&nbsp;&nbsp;
				<a target="_blank" href="http://www.2cto.com/tg.html">我要投稿</a> &nbsp;&nbsp;  [字体：<a href="javascript:fontZoomA();" class="top_UserLogin">小</a> <a href="javascript:fontZoomB();" class="top_UserLogin">
			大</a>]
			</dd>
			
		</dl>
		<dl class="box_body" id="fontzoom"><dd id="Article">
		<p>
	&nbsp;</p>
<p>
	引言</p>
<p>
	为什么要把硬盘分区？</p>
<p>
	1、维护相关：如可以把相同类型，有共同安全需要的内容，放到不同的分区中，这样方便了维护。</p>
<p>
	2、效率因素：如果一个大的硬盘，在整个硬盘上找到相应的资料，很费时。</p>
<p>
	3、硬盘限额：限额的控制，只能对分区来实施。</p>
<p>
	4、备份资料：这个和第一个控制有一点雷同，我可以对重要的信息放到某个分区，方便备份。</p>
<p>
	5、安全考虑：如果大的硬盘，一但有损坏的话，就有可能导致整个硬盘资料丢失，如果把硬盘的资料分开来存放的话，损失会很小。</p>
<p>
	你可以把这个磁盘想像成您家的房子，而分区就相当于房子里面的房间一样。</p>
<p>
	&nbsp;</p>
<p>
	为什么要对分区进行格式化？</p>
<p>
	格式化就是对分区进行初始化的一种操作，为了让我们能向分区中写入数据。如果你看过一天一点学习<a href="http://www.2cto.com/os/linux/" target="_blank" class="keylink">Linux</a>之认识文件系统 的话，那么就你会明白格式化操作其实就是创建分区的Inode/block/super block/group block等等信息。</p>
<p>
	&nbsp;</p>
<p>
	&nbsp;</p>
<p>
	第一部分：磁盘的分区</p>
<p>
	下面我们就用<a href="http://www.2cto.com/os/xuniji/" target="_blank" class="keylink">虚拟机</a>来实验RHEL6上的硬盘分区与格式化</p>
<p>
	&nbsp;</p>
<p>
	在虚拟机上增加一块硬盘</p>
<p>
	我以VMware workstation为例，演示如何给RHEL6系统上增加一块SCSI硬盘,并设置大小写为20G。</p>
<p>
	关机状态下：在VMware Workstation的工具栏中选择VM&mdash;&mdash;Settings&mdash;&mdash;Hardware&mdash;&mdash;Add&mdash;&mdash;选择Hard Disk&mdash;&mdash;Next&mdash;&mdash;Create a virtual disk&mdash;&mdash;Next&mdash;&mdash;SCSI（Recommended）&mdash;&mdash;Next&mdash;&mdash;Maximum disk size(GB):20.0&mdash;&mdash;Next&mdash;&mdash;Finish</p>
<p>
	这样就就为你的系统增加了一块20G的SCSI的硬盘了，然后启动系统，下面就开始今天的分区操作了。</p>
<p>
	&nbsp;</p>
<p>
	对硬盘进行分区操作</p>
<p>
	&nbsp;</p>
<p>
	<img src="http://www.2cto.com/uploadfile/2011/1023/20111023042436209.png" /><br />
	<img src="http://www.2cto.com/uploadfile/2011/1023/20111023042439849.png" /></p>
<p>
	&nbsp;</p>
<p>
	[root@yufei ~]# fdisk -l</p>
<p>
	显示出系统中所有的硬盘信息</p>
<p>
	&nbsp;</p>
<p>
	[root@yufei ~]# fdisk -l</p>
<p>
	&nbsp;</p>
<p>
	Disk /dev/sda: 21.5 GB, 21474836480 bytes</p>
<p>
	255 heads, 63 sectors/track, 2610 cylinders</p>
<p>
	Units = cylinders of 16065 * 512 = 8225280 bytes</p>
<p>
	Sector size (logical/physical): 512 bytes / 512 bytes</p>
<p>
	I/O size (minimum/optimal): 512 bytes / 512 bytes</p>
<p>
	Disk identifier: 0x00093fdc</p>
<p>
	#设备名 是否是启动设备 开始柱面&nbsp;&nbsp;&nbsp; 结果柱面 大小1K为单位 分区类型标识 分区的系统类型</p>
<p>
	Device Boot&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Start&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; End&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Blocks&nbsp;&nbsp; Id&nbsp; System</p>
<p>
	/dev/sda1&nbsp;&nbsp; *&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1913&nbsp;&nbsp;&nbsp; 15360000&nbsp;&nbsp; 83&nbsp; Linux</p>
<p>
	/dev/sda2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1913 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1978&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 524288&nbsp;&nbsp; 82&nbsp; Linux swap / Solaris</p>
<p>
	&nbsp;</p>
<p>
	Disk /dev/sdb: 21.5 GB, 21474836480 bytes&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #磁盘的名称、大小</p>
<p>
	255 heads, 63 sectors/track, 2610 cylinders&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #磁头、扇区、柱面数量</p>
<p>
	Units = cylinders of 16065 * 512 = 8225280 bytes#每个柱面的大小</p>
<p>
	Sector size (logical/physical): 512 bytes / 512 bytes#扇区的大小</p>
<p>
	I/O size (minimum/optimal): 512 bytes / 512 bytes&nbsp;&nbsp;&nbsp; #硬盘的IO情况</p>
<p>
	Disk identifier: 0x00000000&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ##磁盘的标识</p>
<p>
	&nbsp;</p>
<p>
	Disk /dev/sdb doesn&#39;t contain a valid partition table</p>
<p>
	这里面会显示磁盘的空间大小以及磁头、扇区、柱面的数量。如果没有分区的磁盘，他会给有相应的提示&ldquo;Disk /dev/sdb doesn&rsquo;t contain a valid partition table&rdquo;。这就是我们要对其分区的磁盘sdb。</p>
<p>
	&nbsp;</p>
<p>
	[root@yufei ~]# fdisk /dev/sdb</p>
<p>
	显示fdisk的帮助信息</p>
<p>
	&nbsp;</p>
<p>
	Command (m for help):m #显示帮助信息</p>
<p>
	Command action</p>
<p>
	a&nbsp;&nbsp; toggle a bootable flag</p>
<p>
	b&nbsp;&nbsp; edit bsd disklabel</p>
<p>
	c&nbsp;&nbsp; toggle the <a href="http://www.2cto.com/os/dos/" target="_blank" class="keylink">dos</a> compatibility flag</p>
<p>
	d&nbsp;&nbsp; delete a partition&nbsp;&nbsp;&nbsp; #删除一个分区</p>
<p>
	l&nbsp;&nbsp; list known partition types&nbsp;&nbsp;&nbsp; #列出分区类型</p>
<p>
	m&nbsp;&nbsp; print this menu</p>
<p>
	n&nbsp;&nbsp; add a new partition&nbsp;&nbsp;&nbsp; #增加一个新的分区</p>
<p>
	o&nbsp;&nbsp; create a new empty DOS partition table</p>
<p>
	p&nbsp;&nbsp; print the partition table&nbsp;&nbsp;&nbsp; #打印出分区表</p>
<p>
	q&nbsp;&nbsp; quit without saving changes&nbsp;&nbsp;&nbsp; #不保存退出</p>
<p>
	s&nbsp;&nbsp; create a new empty Sun disklabel</p>
<p>
	t&nbsp;&nbsp; change a partition&#39;s system id&nbsp;&nbsp;&nbsp; #改变分区类型</p>
<p>
	u&nbsp;&nbsp; change display/entry units</p>
<p>
	v&nbsp;&nbsp; verify the partition table&nbsp;&nbsp;&nbsp; #校验分区表</p>
<p>
	w&nbsp;&nbsp; write table to disk and exit&nbsp;&nbsp;&nbsp; #保存分区表</p>
<p>
	x&nbsp;&nbsp; extra functionality (experts only)</p>
<p>
	新增分区</p>
<p>
	&nbsp;</p>
<p>
	Command (m for help): n</p>
<p>
	Command action</p>
<p>
	e&nbsp;&nbsp; extended&nbsp;&nbsp;&nbsp; #扩展分区</p>
<p>
	p&nbsp;&nbsp; primary partition (1-4) #主分区</p>
<p>
	由于硬盘的设计原因，我们的主分区表最多是4个。至于为什么会是这样，请大家参考：带您深入了解硬盘分区表http://www.opsers.org/base/take-you-in-depth-understanding-of-the-hard-disk-partition-table.html。如果想更详细了解的话，请观看我以前的视频内容：Linux分区与格式化及文件系统优化http://www.opsers.org/videos/chapter-x-linux-partition-and-format-and-file-system-optimization.html</p>
<p>
	&nbsp;</p>
<p>
	p</p>
<p>
	Partition number (1-4): 1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #分区号</p>
<p>
	First cylinder (1-2610, default 1): #柱面默认是1，直接回车</p>
<p>
	Using default value 1</p>
<p>
	Last cylinder, +cylinders or +size{K,M,G} (1-2610, default 2610):+1G&nbsp;&nbsp;&nbsp;&nbsp; #设置结束柱面或者用分区的大小（+K、M、G）来让系统自动计算结束柱面 然后回车</p>
<p>
	列出分区信息</p>
<p>
	&nbsp;</p>
<p>
	Command (m for help): p&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #列出刚才的分区信息</p>
<p>
	&nbsp;</p>
<p>
	Disk /dev/sdb: 21.5 GB, 21474836480 bytes</p>
<p>
	255 heads, 63 sectors/track, 2610 cylinders</p>
<p>
	Units = cylinders of 16065 * 512 = 8225280 bytes</p>
<p>
	Sector size (logical/physical): 512 bytes / 512 bytes</p>
<p>
	I/O size (minimum/optimal): 512 bytes / 512 bytes</p>
<p>
	Disk identifier: 0xd6737273</p>
<p>
	&nbsp;</p>
<p>
	Device Boot&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Start&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; End&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Blocks&nbsp; &nbsp;Id&nbsp; System</p>
<p>
	/dev/sdb1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 132&nbsp;&nbsp;&nbsp;&nbsp; 1060258+&nbsp; 83&nbsp; Linux</p>
<p>
	&nbsp;</p>
<p>
	Command (m for help): n</p>
<p>
	Command action</p>
<p>
	e&nbsp;&nbsp; extended</p>
<p>
	p&nbsp;&nbsp; primary partition (1-4)</p>
<p>
	p</p>
<p>
	Partition number (1-4): 2</p>
<p>
	First cylinder (133-2610, default 133):</p>
<p>
	Using default value 133</p>
<p>
	Last cylinder, +cylinders or +size{K,M,G} (133-2610, default 2610): +50 #在原来的基础上加上50个柱面</p>
<p>
	&nbsp;</p>
<p>
	Command (m for help): p</p>
<p>
	&nbsp;</p>
<p>
	Disk /dev/sdb: 21.5 GB, 21474836480 bytes</p>
<p>
	255 heads, 63 sectors/track, 2610 cylinders</p>
<p>
	Units = cylinders of 16065 * 512 = 8225280 bytes</p>
<p>
	Sector size (logical/physical): 512 bytes / 512 bytes</p>
<p>
	I/O size (minimum/optimal): 512 bytes / 512 bytes</p>
<p>
	Disk identifier: 0xd6737273</p>
<p>
	&nbsp;</p>
<p>
	Device Boot&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Start&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; End&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Blocks&nbsp;&nbsp; Id&nbsp; System</p>
<p>
	/dev/sdb1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 132&nbsp;&nbsp;&nbsp;&nbsp; 1060258+&nbsp; 83&nbsp; Linux</p>
<p>
	/dev/sdb2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 133&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 183&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 409657+&nbsp; 83&nbsp; Linux</p>
<p>
	新增加扩展分区</p>
<p>
	&nbsp;</p>
<p>
	Command (m for help): n</p>
<p>
	Command action</p>
<p>
	e&nbsp;&nbsp; extended</p>
<p>
	p&nbsp;&nbsp; primary partition (1-4)</p>
<p>
	e&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #我们来分扩展分区</p>
<p>
	Partition number (1-4): 3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #扩展分区的分区号是3，当然也可以是4，但不可能是大于4的。</p>
<p>
	First cylinder (184-2610, default 184): #扩展分区的起始柱面</p>
<p>
	Using default value 184</p>
<p>
	Last cylinder, +cylinders or +size{K,M,G} (184-2610, default 2610): #扩展分区的结束柱面，默认就是全部划分给扩展分区了</p>
<p>
	Using default value 2610</p>
<p>
	&nbsp;</p>
<p>
	Command (m for help): p</p>
<p>
	&nbsp;</p>
<p>
	Disk /dev/sdb: 21.5 GB, 21474836480 bytes</p>
<p>
	255 heads, 63 sectors/track, 2610 cylinders</p>
<p>
	Units = cylinders of 16065 * 512 = 8225280 bytes</p>
<p>
	Sector size (logical/physical): 512 bytes / 512 bytes</p>
<p>
	I/O size (minimum/optimal): 512 bytes / 512 bytes</p>
<p>
	Disk identifier: 0xd6737273</p>
<p>
	&nbsp;</p>
<p>
	Device Boot&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Start&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;End&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Blocks&nbsp;&nbsp; Id&nbsp; System</p>
<p>
	/dev/sdb1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 132&nbsp;&nbsp;&nbsp;&nbsp; 1060258+&nbsp; 83&nbsp; Linux</p>
<p>
	/dev/sdb2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 133&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 183&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 409657+&nbsp; 83&nbsp; Linux</p>
<p>
	/dev/sdb3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 184&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2610&nbsp;&nbsp;&nbsp; 19494877+&nbsp;&nbsp; 5&nbsp; Extended&nbsp;&nbsp;&nbsp; #注意这里的类型已经和上面的不一样了</p>
<p>
	增加逻辑分区</p>
<p>
	&nbsp;</p>
<p>
	Command (m for help): n</p>
<p>
	Command action</p>
<p>
	l&nbsp;&nbsp; logical (5 or over)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #这时候就和上面的不一样了，因为在扩展分区中再分的话，就是逻辑分区了，必需是5以上</p>
<p>
	p&nbsp;&nbsp; primary partition (1-4)&nbsp;&nbsp;&nbsp; #因为我们还可以分一个主分区出来，所以这里会显示这样的信息。当然，因为我们已经把硬盘所有我空间全分给了扩展分区，所以，我们分不出那个主分区了。</p>
<p>
	l</p>
<p>
	First cylinder (184-2610, default 184):</p>
<p>
	Using default value 184</p>
<p>
	Last cylinder, +cylinders or +size{K,M,G} (184-2610, default 2610): +2G</p>
<p>
	&nbsp;</p>
<p>
	Command (m for help): P</p>
<p>
	&nbsp;</p>
<p>
	Disk /dev/sdb: 21.5 GB, 21474836480 bytes</p>
<p>
	255 heads, 63 sectors/track, 2610 cylinders</p>
<p>
	Units = cylinders of 16065 * 512 = 8225280 bytes</p>
<p>
	Sector size (logical/physical): 512 bytes / 512 bytes</p>
<p>
	I/O size (minimum/optimal): 512 bytes / 512 bytes</p>
<p>
	Disk identifier: 0xd6737273</p>
<p>
	&nbsp;</p>
<p>
	Device Boot&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Start&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; End&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Blocks&nbsp;&nbsp; Id&nbsp; System</p>
<p>
	/dev/sdb1&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 132&nbsp;&nbsp;&nbsp;&nbsp; 1060258+&nbsp; 83&nbsp; Linux</p>
<p>
	/dev/sdb2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 133&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 183&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 409657+&nbsp; 83&nbsp; Linux</p>
<p>
	/dev/sdb3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 184&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2610&nbsp;&nbsp;&nbsp; 19494877+&nbsp;&nbsp; 5&nbsp; Extended</p>
<p>
	/dev/sdb5&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 184&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 445&nbsp;&nbsp;&nbsp;&nbsp; 2104483+&nbsp; 83&nbsp; Linux&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #这个分区就是逻辑分区了，我是怎么看出来的呢？关键是你要注意两点：1是分区号。这里是sdb5。2是分区的开始柱面是从184开始的，而我们的扩展分区也是从184开始的，可以肯定是在扩展分区里面分出来的分区，那当然是逻辑分区啊</p>
<p>
	增加SWAP分区</p>
<p>
	下面我们再分一个512M的分区出来，为了我们后面的课程讲解。这个分区我们后面会用他当作SWAP分区。</p>
<p>
	&nbsp;</p>
<p>
	Command (m for help): n</p>
<p>
	Command action</p>
<p>
	l&nbsp;&nbsp; logical (5 or over)</p>
<p>
	p&nbsp;&nbsp; primary partition (1-4)</p>
<p>
	l</p>
<p>
	First cylinder (446-2610, default 446):</p>
<p>
	Using default value 446</p>
<p>
	Last cylinder, +cylinders or +size{K,M,G} (446-2610, default 2610): +512M</p>
<p>
	&nbsp;</p>
<p>
	Command (m for help): p</p>
<p>
	&nbsp;</p>
<p>
	Disk /dev/sdb: 21.5 GB, 21474836480 bytes</p>
<p>
	255 heads, 63 sectors/track, 2610 cylinders</p>
<p>
	Units = cylinders of 16065 * 512 = 8225280 bytes</p>
<p>
	Sector size (logical/physical): 512 bytes / 512 bytes</p>
<p>
	I/O size (minimum/optimal): 512 bytes / 512 bytes</p>
<p>
	Disk identifier: 0xd6737273</p>
<p>
	&nbsp;</p>
<p>
	Device Boot&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Start&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; End&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Blocks&nbsp;&nbsp; Id&nbsp; System</p>
<p>
	/dev/sdb1&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 132&nbsp;&nbsp;&nbsp;&nbsp; 1060258+&nbsp; 83&nbsp; Linux</p>
<p>
	/dev/sdb2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 133&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 183&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 409657+&nbsp; 83&nbsp; Linux</p>
<p>
	/dev/sdb3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 184&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2610&nbsp;&nbsp;&nbsp; 19494877+&nbsp;&nbsp; 5&nbsp; Extended</p>
<p>
	/dev/sdb5&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 184&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 445&nbsp;&nbsp;&nbsp;&nbsp; 2104483+&nbsp; 83&nbsp; Linux</p>
<p>
	/dev/sdb6&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;446&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 511&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 530113+&nbsp; 83&nbsp; Linux</p>
<p>
	我们下面来个错误的演示</p>
<p>
	&nbsp;</p>
<p>
	Command (m for help): n</p>
<p>
	Command action</p>
<p>
	l&nbsp;&nbsp; logical (5 or over)</p>
<p>
	p&nbsp;&nbsp; primary partition (1-4)</p>
<p>
	p</p>
<p>
	Selected partition 4</p>
<p>
	No free sectors available</p>
<p>
	因为已经没有剩余的扇区了，所以肯定是分不了主分区了。</p>
<p>
	&nbsp;</p>
<p>
	转换分区类型</p>
<p>
	&nbsp;</p>
<p>
	Command (m for help): l #这个是L的小写，不是1啊！就是列出分区的类型，因为很多，所以我就找几个出来</p>
<p>
	82&nbsp; Linux swap /&nbsp;&nbsp;&nbsp; #这个就是SWAP分区代码了</p>
<p>
	83&nbsp; Linux&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #这个就是Linux系统的分区代码了</p>
<p>
	8e&nbsp; Linux LVM&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #LVM分区的代码</p>
<p>
	&nbsp;</p>
<p>
	Command (m for help): t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #转换分区类型</p>
<p>
	Partition number (1-6): 6&nbsp;&nbsp;&nbsp; #选择转换的分区号</p>
<p>
	Hex code (type L to list codes): 82&nbsp;&nbsp;&nbsp; #转换成的类型</p>
<p>
	Changed system type of partition 6 to 82 (Linux swap / Solaris)&nbsp;&nbsp;&nbsp; #提示内容</p>
<p>
	&nbsp;</p>
<p>
	Command (m for help): p</p>
<p>
	&nbsp;</p>
<p>
	Disk /dev/sdb: 21.5 GB, 21474836480 bytes</p>
<p>
	255 heads, 63 sectors/track, 2610 cylinders</p>
<p>
	Units = cylinders of 16065 * 512 = 8225280 bytes</p>
<p>
	Sector size (logical/physical): 512 bytes / 512 bytes</p>
<p>
	I/O size (minimum/optimal): 512 bytes / 512 bytes</p>
<p>
	Disk identifier: 0xd6737273</p>
<p>
	&nbsp;</p>
<p>
	Device Boot&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Start&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; End&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Blocks&nbsp;&nbsp; Id&nbsp; System</p>
<p>
	/dev/sdb1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 132 &nbsp;&nbsp;&nbsp;&nbsp;1060258+&nbsp; 83&nbsp; Linux</p>
<p>
	/dev/sdb2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 133&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 183&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 409657+&nbsp; 83&nbsp; Linux</p>
<p>
	/dev/sdb3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 184&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2610&nbsp;&nbsp;&nbsp; 19494877+&nbsp;&nbsp; 5&nbsp; Extended</p>
<p>
	/dev/sdb5&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 184&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 445&nbsp;&nbsp;&nbsp;&nbsp; 2104483+&nbsp; 83&nbsp; Linux</p>
<p>
	/dev/sdb6&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 446&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 511&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 530113+&nbsp; 82&nbsp; Linux swap / Solaris</p>
<p>
	我们就先分这么多出来，当然这个磁盘还有很多空间，因为这只是演示，所以无需全部来分完。下面就是重要一个环节，保存我们分好的分区表，如果不保存，那么我们刚才的功劳，等于没有做。</p>
<p>
	&nbsp;</p>
<p>
	保存分区表</p>
<p>
	&nbsp;</p>
<p>
	Command (m for help): w&nbsp;&nbsp;&nbsp; #保存分区表</p>
<p>
	The partition table has been altered!</p>
<p>
	&nbsp;</p>
<p>
	Calling ioctl() to re-read partition table.</p>
<p>
	Syncing disks.</p>
<p>
	注意，如果出现</p>
<p>
	&nbsp;</p>
<p>
	The kernel still uses the old table.</p>
<p>
	The new table will be used at the next reboot.</p>
<p>
	这样的提示的话，他的意思就是让我们重新启动系统，好让内核认出我们新的分区表，为了不让系统重新启动，我们可以用</p>
<p>
	&nbsp;</p>
<p>
	partprobe</p>
<p>
	这个命令，来让内核重新获得一次分区表的信息。</p>
<p>
	这时候我们再用</p>
<p>
	&nbsp;</p>
<p>
	[root@yufei ~]# fdisk -l</p>
<p>
	就可以看到我们分出来的分区内容了，我只取有用的内容</p>
<p>
	Disk /dev/sdb: 21.5 GB, 21474836480 bytes</p>
<p>
	255 heads, 63 sectors/track, 2610 cylinders</p>
<p>
	Units = cylinders of 16065 * 512 = 8225280 bytes</p>
<p>
	Sector size (logical/physical): 512 bytes / 512 bytes</p>
<p>
	I/O size (minimum/optimal): 512 bytes / 512 bytes</p>
<p>
	Disk identifier: 0xd6737273</p>
<p>
	&nbsp;</p>
<p>
	Device Boot&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Start&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; End&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Blocks&nbsp;&nbsp; Id&nbsp; System</p>
<p>
	/dev/sdb1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 132&nbsp;&nbsp;&nbsp;&nbsp; 1060258+&nbsp; 83&nbsp; Linux</p>
<p>
	/dev/sdb2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 133&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 183&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 409657+&nbsp; 83&nbsp; Linux</p>
<p>
	/dev/sdb3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 184&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2610&nbsp;&nbsp;&nbsp; 19494877+&nbsp;&nbsp; 5&nbsp; Extended</p>
<p>
	/dev/sdb5&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 184&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 445&nbsp;&nbsp;&nbsp;&nbsp; 2104483+&nbsp; 83&nbsp; Linux</p>
<p>
	/dev/sdb6&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 446&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 511&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 530113+&nbsp; 82&nbsp; Linux swap / Solaris</p>
<p>
	如果说，你在分区的时候，哪里出现了错误，或者是不想那么操作的话，按q退出，然后重新来过即可。千万在确保正确后再用w保存哦，如果你分错了硬盘的话，那么数据就OVER了！！</p>
<p>
	这个分区其实很简单，关键是多操作几次，熟练后就很容易了！</p>
<p>
	&nbsp;</p>
<p>
	注意：SATA 硬盘最多能够支持到15个分区，IDE 则可以支持到63个。如果超过了这个限制，那么你的硬盘多余的空间也就浪费。</p>
<p>
	&nbsp;</p>
<p>
	<strong>第二部分：格式化</strong></p>
<p>
	分区完，我们的这块硬盘还是不能使用的，需要对分区进行格式化，让其变成系统认识的分区。关于格式化的原理，大家可以参考：Linux分区与格式化及文件系统优化这里我就不多说了，下面进行格式化的操作。</p>
<p>
	&nbsp;</p>
<p>
	<img src="http://www.2cto.com/uploadfile/2011/1023/20111023042533479.png" />下面我们以第一个分区为列来讲解如何对分区进行格式化</p>
<p>
	&nbsp;</p>
<p>
	&nbsp;</p>
<p>
	先查看我们要进行格式化的磁盘分区情况</p>
<p>
	[root@yufei ~]# fdisk -l /dev/sdb</p>
<p>
	&nbsp;</p>
<p>
	Disk /dev/sdb: 21.5 GB, 21474836480 bytes</p>
<p>
	255 heads, 63 sectors/track, 2610 cylinders</p>
<p>
	Units = cylinders of 16065 * 512 = 8225280 bytes</p>
<p>
	Sector size (logical/physical): 512 bytes / 512 bytes</p>
<p>
	I/O size (minimum/optimal): 512 bytes / 512 bytes</p>
<p>
	Disk identifier: 0xd6737273</p>
<p>
	&nbsp;</p>
<p>
	Device Boot&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Start&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; End&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Blocks&nbsp;&nbsp; Id&nbsp; System</p>
<p>
	/dev/sdb1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 132&nbsp;&nbsp;&nbsp;&nbsp; 1060258+&nbsp; 83&nbsp; Linux</p>
<p>
	/dev/sdb2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 133&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 183&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 409657+&nbsp; 83&nbsp; Linux</p>
<p>
	/dev/sdb3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 184&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2610&nbsp;&nbsp;&nbsp; 19494877+&nbsp;&nbsp; 5&nbsp; Extended</p>
<p>
	/dev/sdb5&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 184&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 445&nbsp;&nbsp;&nbsp;&nbsp; 2104483+&nbsp; 83&nbsp; Linux</p>
<p>
	/dev/sdb6&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 446&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 511&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 530113+&nbsp; 82&nbsp; Linux swap / Solaris</p>
<p>
	再来认识一下格式化的工具</p>
<p>
	mkfs [-t 文件系统格式] 设备名</p>
<p>
	或者是</p>
<p>
	mkfs.文件系统格式 设备名</p>
<p>
	用mkfs[tab][tab]就可以显示出系统所有支持的格式了</p>
<p>
	这个里面有很多的参数，可以用&ndash;hlep来查看</p>
<p>
	&nbsp;</p>
<p>
	[root@yufei ~]# mkfs.ext4 --hlep</p>
<p>
	mkfs.ext4: invalid option -- &#39;-&#39;</p>
<p>
	Usage: mkfs.ext4 [-c|-l filename] [-b block-size] [-f fragment-size]</p>
<p>
	[-i bytes-per-inode] [-I inode-size] [-J journal-options]</p>
<p>
	[-G meta group size] [-N number-of-inodes]</p>
<p>
	[-m reserved-blocks-percentage] [-o creator-os]</p>
<p>
	[-g blocks-per-group] [-L volume-label] [-M last-mounted-directory]</p>
<p>
	[-O feature[,...]] [-r fs-revision] [-E extended-option[,...]]</p>
<p>
	[-T fs-type] [-U UUID] [-jnqvFKSV] device [blocks-count]</p>
<p>
	-b 指定block的大小1024 2048 4096 默认是4096</p>
<p>
	-I 指定inode的大小(min 128/max 4096) 默认是256</p>
<p>
	-i 指定多少个字节分配一个inode</p>
<p>
	-L 指定卷标</p>
<p>
	&nbsp;</p>
<p>
	分区演示</p>
<p>
	[root@yufei ~]# mkfs.ext4 -L opsers_tech -b 2048 -i 10240 /dev/sdb1</p>
<p>
	mke2fs 1.41.12 (17-May-2010)</p>
<p>
	Filesystem label=opsers_tech</p>
<p>
	OS type: Linux</p>
<p>
	Block size=2048 (log=1)</p>
<p>
	Fragment size=2048 (log=1)</p>
<p>
	Stride=0 blocks, Stripe width=0 blocks</p>
<p>
	106128 inodes, 530128 blocks</p>
<p>
	26506 blocks (5.00%) reserved for the super user</p>
<p>
	First data block=0</p>
<p>
	Maximum filesystem blocks=537919488</p>
<p>
	33 block groups</p>
<p>
	16384 blocks per group, 16384 fragments per group</p>
<p>
	3216 inodes per group</p>
<p>
	Superblock backups stored on blocks:</p>
<p>
	16384, 49152, 81920, 114688, 147456, 409600, 442368</p>
<p>
	&nbsp;</p>
<p>
	Writing inode tables: done</p>
<p>
	Creating journal (16384 blocks): done</p>
<p>
	Writing superblocks and filesystem accounting information: done</p>
<p>
	&nbsp;</p>
<p>
	This filesystem will be automatically checked every 32 mounts or</p>
<p>
	180 days, whichever comes first.&nbsp; Use tune2fs -c or -i to override.</p>
<p>
	因为我的分区很小，所以格式化是很快的，如果分区很大的话，这个也是要消耗一些时间的。大家可以用默认格式化与自定义格式化来进行对比。</p>
<p>
	希望大家和其他三篇文章结合起来看，我相信这三篇文章，应该能彻底的让你了解并掌握磁盘的分区、格式化原理与优化了。</p>
<p>
	&nbsp;</p>
<p>
	一天一点学习Linux之认识文件系统：</p>
<p>
	&nbsp;</p>
<p>
	一天一点学习Linux之文件系统属性更改相关操作：</p>
<p>
	&nbsp;</p>
<p>
	Linux分区与格式化及文件系统优化：</p>
<p>
	&nbsp;</p>
<p>
	注意：如果你遇到了这样的提示</p>
<p>
	/dev/sdx:No&nbsp; such&nbsp; file or directory&nbsp;&nbsp;&nbsp;&nbsp; //找不到该分区，无法格式化</p>
<p>
	那么和我们上面的是一样的原因，就是内核无法读到新的分区表。解决方法有两个</p>
<p>
	1.重启系统。系统重新启动的时候会重新加载分区表，新的分区自然也就生效了。</p>
<p>
	2.为了节省时间或者系统环境不允许重启，使用partprobe命令，在不重启情况下重新加载分区表。</p>
<p>
	&nbsp;</p>
<p>
	[root@yufei ~]# partprobe&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //重新加载所有硬盘的分区表</p>
<p>
	[root@yufei ~]# partprobe&nbsp;&nbsp; /dev/sdb&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //只重新加载第一块硬盘的分区表</p>
<p>
	如果没有那个命令的话，那就安装</p>
<p>
	rpm -q parted</p>
				</dd></dl>
		<script type="text/javascript">
		<!--
		$(function(){
		  $('#Article img').LoadImage(true, 630, 560,'http://www.2cto.com/statics/images/s_nopic.gif');    
		})
		
		//-->
		</script>
	<div id="pages" class="box_body" id="fontzoom">	</div>
	<dl class="box_Nsc">
		<dd class="lcopy"><a class="ckcopy" onclick="copyToClipBoard()">点击复制链接 与QQ/MSN好友分享!</a></dd>
		<script> 
		function copyToClipBoard(){ 
		var clipBoardContent=document.title + '\r\n' + document.location; 
		clipBoardContent+='\r\n'; 
		window.clipboardData.setData("Text",clipBoardContent); 
		alert("恭喜您！复制成功"); 
		} 
		</script>

		<div class="Article-Tool">
          <span class="fxd">分享到：
		  <img src="http://v.t.qq.com/share/images/s/weiboicon16.png" style="padding-bottom:3px;" onclick="postToWb();" class="cu" title="分享到腾讯微博"/></span><script type="text/javascript">
	function postToWb(){
		var _t = encodeURI(document.title);
		var _url = encodeURIComponent(document.location);
		var _appkey = encodeURI("5e544a8fdea646c5a5f3967871346eb8");
		var _pic = encodeURI('http://www.2cto.com/uploadfile/2011/1023/20111023042436209.png');
		var _site = '';
		var _u = 'http://v.t.qq.com/share/share.php?url='+_url+'&appkey='+_appkey+'&site='+_site+'&pic='+_pic+'&title='+_t;
		window.open( _u,'', 'width=700, height=680, top=0, left=0, toolbar=no, menubar=no, scrollbars=no, location=yes, resizable=no, status=no' );
	}
</script>
          <script type="text/javascript">document.write('<a href="http://v.t.sina.com.cn/share/share.php?url='+encodeURIComponent(location.href)+'&appkey=2386826374&title='+encodeURIComponent('一天一点学习Linux之硬盘的分区与格式化')+'" title="分享到新浪微博" class="t1" target="_blank">&nbsp;</a>');</script>
		  <script type="text/javascript">document.write('<a href="http://www.douban.com/recommend/?url='+encodeURIComponent(location.href)+'&title='+encodeURIComponent('一天一点学习Linux之硬盘的分区与格式化')+'" title="分享到豆瓣" class="t2" target="_blank">&nbsp;</a>');</script>
		  <script type="text/javascript">document.write('<a href="http://share.renren.com/share/buttonshare.do?link='+encodeURIComponent(location.href)+'&title='+encodeURIComponent('一天一点学习Linux之硬盘的分区与格式化')+'" title="分享到人人" class="t3" target="_blank">&nbsp;</a>');</script>
		  <script type="text/javascript">document.write('<a href="http://www.kaixin001.com/repaste/share.php?rtitle='+encodeURIComponent('一天一点学习Linux之硬盘的分区与格式化')+'&rurl='+encodeURIComponent(location.href)+'&rcontent=" title="分享到开心网" class="t4" target="_blank">&nbsp;</a>');</script>
		  <script type="text/javascript">document.write('<a href="http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url='+encodeURIComponent(location.href)+'" title="分享到QQ空间" class="t5" target="_blank">&nbsp;</a>');</script>
      
	  

	  </div>

		
		</dd>
		<dd class="bbstt">您对本文章有什么意见或着疑问吗？请到<a href="http://bbs.2cto.com/">论坛讨论</a>您的关注和建议是我们前行的参考和动力&nbsp;&nbsp; </dd>
	</dl>
	<dl class="box_NPre">
		<dd class="TLineX"><strong>上一篇：</strong><a href="http://www.2cto.com/os/201110/108745.html">一天一点学习Linux之Inode详解</a></dd>
		<dd><strong>下一篇：</strong><a href="http://www.2cto.com/os/201110/108747.html">一天一点学习Linux之文件系统的开机挂载</a></dd>
	</dl>
	<dl style="width:650px;height:70px;padding-top:10px;float:left;padding-left:10px">
		<dd><script type="text/javascript">BAIDU_CLB_fillSlot("182716");</script></dd>
	</dl>
	<dl class="about"><dd>相关文章</dd></dl>
				<div class="alistline"><a href="http://www.2cto.com/News/200412/3530.html" target=blank>成人用品店的一天-哈哈</a></div>
			<div class="alistline"><a href="http://www.2cto.com/kf/200501/3630.html" target=blank>c#----我的第一天</a></div>
			<div class="alistline"><a href="http://www.2cto.com/News/200502/4137.html" target=blank>重庆19岁黑客一天黑掉海事局九寨沟等9</a></div>
			<div class="alistline"><a href="http://www.2cto.com/kf/200609/13516.html" target=blank>Java Applet 入门 第一天</a></div>
			<div class="alistline"><a href="http://www.2cto.com/px/200609/14435.html" target=blank>带你进入思科，身临其境工作一天</a></div>
			<div class="alistline"><a href="http://www.2cto.com/kf/200711/19818.html" target=blank>一个程序员真实的一天</a></div>
			<div class="alistline"><a href="http://www.2cto.com/News/200802/24002.html" target=blank>微软发布新补丁仅一天 首个攻击代码现</a></div>
			<div class="alistline"><a href="http://www.2cto.com/qq/200808/29173.html" target=blank>qq空间留言代码之@一P、@一天，衢U</a></div>
			<div class="alistline"><a href="http://www.2cto.com/News/200809/29312.html" target=blank>谷歌浏览器Chrome发布不足一天被曝两处</a></div>
			<div class="alistline"><a href="http://www.2cto.com/News/200810/29996.html" target=blank>网管员的一天</a></div>
			<dl class="linetb"></dl>
	<dl class="about"><dd>图文推荐</dd></dl>
	<div class="picbox">
						<dl class="wbox">
			<dd class="npicbox"><a href="http://www.2cto.com/os/201203/124899.html"><img src='http://www.2cto.com/uploadfile/2012/0326/thumb_126_90_20120326041702785.png'  width='120' height='90' border='0' /></a></dd>
			<dd class="npictext"><a href="http://www.2cto.com/os/201203/124899.html">Linux学习笔记（四）</a></dd>
		</dl>
				<dl class="wbox">
			<dd class="npicbox"><a href="http://www.2cto.com/os/201203/124889.html"><img src='http://www.2cto.com/uploadfile/2012/0326/thumb_126_90_20120326034254408.png'  width='120' height='90' border='0' /></a></dd>
			<dd class="npictext"><a href="http://www.2cto.com/os/201203/124889.html">Linux学习笔记（一）</a></dd>
		</dl>
				<dl class="wbox">
			<dd class="npicbox"><a href="http://www.2cto.com/os/201203/124876.html"><img src='http://www.2cto.com/uploadfile/2012/0326/thumb_126_90_20120326020053494.png'  width='120' height='90' border='0' /></a></dd>
			<dd class="npictext"><a href="http://www.2cto.com/os/201203/124876.html">Linux之文件权限的问</a></dd>
		</dl>
				<dl class="wbox">
			<dd class="npicbox"><a href="http://www.2cto.com/os/201203/123953.html"><img src='http://www.2cto.com/uploadfile/2012/0320/thumb_126_90_20120320112230739.jpg'  width='120' height='90' border='0' /></a></dd>
			<dd class="npictext"><a href="http://www.2cto.com/os/201203/123953.html">解决apache服务器本地</a></dd>
		</dl>
					</div>
		<dl class="linetb"></dl>
	<div id="pl" style="float:left;width:650px;padding:10px 10px 0px 10px;overflow:hidden;background-color:white">
		<iframe src="http://www.2cto.com/uapi.php?tid=108746&catid=268&title=0rvM7NK7tePRp8 wTGludXjWrtOyxcy1xLfWx/jT67jxyr27rw==" width="100%" height="100%" id="comment_iframe" name="comment_iframe" frameborder="0" scrolling="no"></iframe>
	</div>
	
	</div>
	<div class="box_right">
		<div style="float:left;width:300px;background:white;padding-left:10px;height:250px">
			<a target="_blank" href="http://vip.2cto.com/"><img src="http://www.2cto.com/adv/300-250.gif" width="300" height="250" /></a></div>
		<div class="box_right_line"><div class="xline"></div></div>
		<div class="box_right_box">
			<dl class="bTitle"><dd onmousemove="m_tab(1)" id="indexW" class="tablinkschecked">排行</dd><dd onmousemove="m_tab(2)" id="hotW" class="tablinkscheck">热门</dd></dl>
		</div>
		<div class="box_right_box">
			<div class="paddingbox">
				<dl class="index" id="index">
					<dd class="picline"></dd>
															<dd class="list">2,343 | <a title="Linux tar打包命令" href="http://www.2cto.com/os/201109/103833.html">Linux tar打包命令</a></dd>
										<dd class="list">2,303 | <a title="linux系统时间修改及同步" href="http://www.2cto.com/os/201109/103909.html">linux系统时间修改及同步</a></dd>
										<dd class="list">1,815 | <a title="U盘安装Fedora 16 " href="http://www.2cto.com/os/201111/110751.html">U盘安装Fedora 16 </a></dd>
										<dd class="list">1,682 | <a title=" linux下的基本网络配置" href="http://www.2cto.com/os/201109/104152.html"> linux下的基本网络配置</a></dd>
										<dd class="list">1,614 | <a title="Linux tail 命令详解" href="http://www.2cto.com/os/201111/110143.html">Linux tail 命令详解</a></dd>
										<dd class="list">1,586 | <a title="Grub Rescue修复方法" href="http://www.2cto.com/os/201111/112327.html">Grub Rescue修复方法</a></dd>
										<dd class="list">1,149 | <a title="undefined reference to error解决方法 " href="http://www.2cto.com/os/201112/113315.html">undefined reference to error解决</a></dd>
										<dd class="list">1,140 | <a title=" Linux安装Oracle" href="http://www.2cto.com/os/201108/101488.html"> Linux安装Oracle</a></dd>
														</dl>
				<dl class="index" id="hot" style="display:none">
					<dd class="picline"></dd>
															<dd class="list"><a title=" Linux下Sed命令的用法" href="http://www.2cto.com/os/201109/102812.html"> Linux下Sed命令的用法</a></dd>
										<dd class="list"><a title="Linux删除文件夹命令" href="http://www.2cto.com/os/201108/101146.html">Linux删除文件夹命令</a></dd>
										<dd class="list"><a title="U盘安装Fedora 16 " href="http://www.2cto.com/os/201111/110751.html">U盘安装Fedora 16 </a></dd>
										<dd class="list"><a title=" linux下的基本网络配置" href="http://www.2cto.com/os/201109/104152.html"> linux下的基本网络配置</a></dd>
										<dd class="list"><a title="linux系统时间修改及同步" href="http://www.2cto.com/os/201109/103909.html">linux系统时间修改及同步</a></dd>
										<dd class="list"><a title="Linux tar打包命令" href="http://www.2cto.com/os/201109/103833.html">Linux tar打包命令</a></dd>
										<dd class="list"><a title="Grub Rescue修复方法" href="http://www.2cto.com/os/201111/112327.html">Grub Rescue修复方法</a></dd>
										<dd class="list"><a title="LINUX VNC配置  " href="http://www.2cto.com/os/201109/106110.html">LINUX VNC配置  </a></dd>
														</dl>
			</div>
			<script type="text/javascript">
			<!--
				function m_tab(index)
				{
					if (index == 1){
						document.getElementById("indexW").className = "tablinkschecked";
						document.getElementById("hotW").className = "tablinkscheck";
						document.getElementById("index").style.display = "block";
						document.getElementById("hot").style.display = "none";
					}
					else{
						document.getElementById("hotW").className = "tablinkschecked";
						document.getElementById("indexW").className = "tablinkscheck";
						document.getElementById("index").style.display = "none";
						document.getElementById("hot").style.display = "block";
					}
				}
			//-->
			</script>
		</div>
		<div class="rightlineT"><div class="rxline"></div></div>
		<div style="float:left;width:300px;background:white;padding-left:10px;height:60px">
			<a target="_blank" href="tencent://message/?uin=6242122&Site=红黑Vip&Menu=yes"><img src="http://www.2cto.com/adv/300-90.png" width="300" height="60" /></a></div>
		<div class="rightlineNo"></div>
		<div class="box_right_box">
			<dl class="bTitle borT"><dd class="newarc"></dd></dl>
		</div>
		<div class="box_right_box">
			<div class="paddingbox">
				<dl class="index">
					<iframe frameborder="0" name="Iframe1" src="http://www.2cto.com/bbsdy/index.html" width="100%" height="200">
				您的浏览器不支持嵌入式框架，或者当前配置为不显示嵌入式框架。
			</iframe>
				</dl>
			</div>
		</div>
		<div class="rightlineT"><div class="rxline"></div></div>

		<div style="float:left;width:300px;background:white;padding-left:10px;height:250px"><script type="text/javascript">BAIDU_CLB_fillSlot("182692");</script> </div>
		<div class="rightlineNo"></div>
		<div class="box_right_box">
			<dl class="bTitle borT"><dd class="newdown"></dd></dl>
		</div>
		<div class="box_right_box">
			<div class="paddingbox">
				<dl class="index">
															<dd class="picbox"><a class="plink" href="http://www.2cto.com/os/201110/109294.html"><img class='pic1' src='http://www.2cto.com/uploadfile/2011/1028/thumb_126_90_20111028121517768.png'  width='126' height='90' border='0' /></a><span><a href="http://www.2cto.com/os/201110/109294.html">Linux开启VNC桌面及加</a></span></dd>
															<dd class="picline"></dd>
															<dd class="list">&#9642;&nbsp;<a href="http://www.2cto.com/os/201110/109294.html">Linux开启VNC桌面及加密连接</a></dd>
										<dd class="list">&#9642;&nbsp;<a href="http://www.2cto.com/os/201203/123708.html">BackTrack5完全配置</a></dd>
														</dl>
			</div>
			<div class="xline"></div>
		</div>

	</div>
</div>
<script type="text/javascript">
<!--
function showLogin(){
	window.art.dialog({id:'Login',iframe:'http://www.2cto.com/index.php?m=member&c=index&a=login&tupe=mini', title:'快捷登陆', width:'450', height:'310', lock:true}, function(){var d = window.art.dialog({id:'Login'}).data.iframe;var form = d.document.getElementById('dosubmit');form.click();return false;}, function(){window.art.dialog({id:'Login'}).close()});void(0);
}
function add_favorite(title) {
		$.getJSON('http://www.2cto.com/api.php?op=add_favorite&title='+encodeURIComponent(title)+'&url='+encodeURIComponent(location.href)+'&'+Math.random()+'&callback=?', function(data){
			if(data.status==1)	{
				$("#favorite").html('收藏成功');
			} else {
				alert('请登录');
			}
		});
	}
//-->
</script>
<script language="JavaScript" src="http://www.2cto.com/api.php?op=count&id=108746&modelid=1"></script>
<!-- 广告位：右侧漂浮 -->
<script type="text/javascript">BAIDU_CLB_fillSlot("137946");</script>

<div style="width:980px;padding:8px 0px 8px 0px;margin:auto"><script type="text/javascript">BAIDU_CLB_fillSlot("333829");</script></div>
<div class="foot">
<p>
<a target="_blank" href="http://www.2cto.com/about">关于我们</a> |
<a target="_blank" href="http://www.2cto.com/about/contact.html">联系我们</a> |
<a target="_blank" href="http://www.2cto.com/about/ads.html">广告服务</a> |
<a target="_blank" href="http://www.2cto.com/about/touzi.html">投资合作</a> |
<a target="_blank" href="http://www.2cto.com/about/Copyright.html">版权申明</a> |
<a target="_blank" href="http://www.2cto.com/about/faq.html">在线帮助</a> |
<a target="_blank" href="http://www.2cto.com/about/map.html">网站地图</a> |
<a target="_blank" href="http://www.2cto.com/about/tg.html">作品发布</a> |
<a target="_blank" href="http://vip.2cto.com/"><span style="COLOR: red">Vip技术培训</span></a>
<br />
<span class="style4">版权所有: <a href="http://www.2cto.com" target="_blank">红黑联盟</a>--致力于做最好的IT技术学习网站<script type="text/javascript">
var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3F1898984a3d796e86ad73ad1f4bc9f240' type='text/javascript'%3E%3C/script%3E"));
</script>    <script language="javascript" type="text/javascript" src="http://js.users.51.la/331738.js"></script>

<noscript><a href="http://www.51.la/?331738" target="_blank"><img alt="&#x6211;&#x8981;&#x5566;&#x514D;&#x8D39;&#x7EDF;&#x8BA1;" src="http://img.users.51.la/331738.asp" style="border:none" /></a></noscript>
</span>
</div></body>

</html>
